(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1789],{87017:function(e,t,n){"use strict";var r=n(5887),s=n(11163),a=n(67294),i=n(62653),l=n(85893);t.Z=function(){var e=(0,s.useRouter)(),t=(0,a.useState)(!1),n=t[0],o=t[1],c=(0,a.useState)(!1),d=c[0],u=c[1],f=(0,r.J)().isLoggedIn,x=e.query.resetPassword;(0,a.useEffect)((function(){x?(o(!0),u(!0)):u(!1)}),[x]),(0,a.useEffect)((function(){f||o(!0)}),[f]);return(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(i.Z,{active:n,toggleLoginModal:function(){o(!n)},openResetPassword:d,onCloseModal:function(){o(!n),f||e.back()},isCheck:!0})})}},71537:function(e,t,n){"use strict";n(67294);var r=n(41664),s=n(11163),a=n(43753),i=n(85893);t.Z=function(e){var t=e.title,n=e.sub_title,l=e.isNewIn,o=e.isSell,c=(0,s.useRouter)();return(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)("p",{className:"mb-4",children:t}),(0,i.jsx)("p",{className:"mb-6",children:n}),l&&(0,i.jsx)(r.default,{href:"/buy/new-in",children:(0,i.jsxs)("a",{className:"group text-center px-3 pt-2 pb-3 transition-all border border-dark  text-dark hover:border-dark hover:text-white hover:bg-dark flex items-center justify-center mb-4 uppercase",children:[(0,i.jsx)("svg",{className:"mr-2",width:"24",height:"15",viewBox:"0 0 24 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{className:"group-hover:fill-white",fillRule:"evenodd",clipRule:"evenodd",d:"M11.1219 0.299988V3.77563H4.17069C4.24381 8.20245 6.80482 11.0196 11.4878 10.9463C17.0853 10.9463 19.4268 6.00725 19.4268 0.995038C19.4268 0.762986 19.42 0.53129 19.4099 0.299988H23.9864C23.9955 0.530382 24 0.762118 24 0.995077C24 8.45861 19.3171 14.6781 11.4878 14.6781C8.30481 14.6781 6.07304 13.7634 3.62188 10.983L2.92683 14.0561H0V0.299988H11.1219Z",fill:"#111111"})}),(0,i.jsx)("span",{className:"font-helveticaNeue500 text-2xl leading-none pt-2",children:"Shop new in"})]})}),o&&(0,i.jsxs)("a",{className:"group text-center px-3 pt-2 pb-3 transition-all border border-dark  text-dark hover:border-dark hover:text-white hover:bg-dark flex items-center justify-center uppercase cursor-pointer",onClick:function(){c.push("/sell/step-1"),(0,a.b9)()},children:[(0,i.jsx)("svg",{className:"mr-2",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{className:"group-hover:fill-white",fillRule:"evenodd",clipRule:"evenodd",d:"M13.3781 19.678V16.2024H20.3293C20.2562 11.7756 17.6952 8.95847 13.0123 9.03178C7.41472 9.03178 5.07327 13.9708 5.07327 18.983C5.07327 19.2151 5.08003 19.4468 5.09012 19.678H0.513632C0.504544 19.4476 0.5 19.2159 0.5 18.983C0.5 11.5195 5.18293 5.3 13.0123 5.3C16.1952 5.3 18.427 6.21461 20.8781 8.99502L21.5732 5.92194H24.5V19.678H13.3781Z",fill:"#111111"})}),(0,i.jsx)("span",{className:"font-helveticaNeue500 text-2xl leading-none pt-2",children:"Sell an item"})]})]})}},47302:function(e,t,n){"use strict";var r=n(73534),s=n(56581),a=n(97e3),i=n(25675),l=n(67294),o=n(82069),c=n(9113),d=n(9723),u=n(11163),f=n(80868),x=n(85893);function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.tab,m=e.profile_picture,h=(0,l.useState)(!1),v=h[0],g=h[1],b=(0,c.f)().data,j=(0,l.useState)(null),N=j[0],w=j[1],y=(0,l.useState)(0),k=y[0],_=y[1],S=(0,l.useState)([]),C=S[0],O=S[1],E=(0,f.r)().data,P=(0,r.e)().data,M=(0,s.T)(null===P||void 0===P?void 0:P.customer.data.id.toString()).data;(0,l.useEffect)((function(){E&&O(E.data)}),[E]),(0,l.useMemo)((function(){P&&w(P.customer.data)}),[P]);(0,l.useEffect)((function(){b&&_(b.unread-function(e){var t,n=0,r=p(C);try{for(r.s();!(t=r.n()).done;){var s=t.value;e.includes(s.inbox_conversation.data.id)&&d.E2.includes(s.inbox_message.data.type)&&(n+=1)}}catch(a){r.e(a)}finally{r.f()}return n}(b.reduce_conversation_unread_ids))}),[b]);var Z=[{line:9,total:k}],A=function(e){var t=Z.find((function(t){return t.line===e}));return t&&t.total>0?t:void 0};return(0,x.jsxs)("div",{className:"w-full m-auto flex flex-col",children:[(0,x.jsxs)("div",{className:"user-profile-block flex order-2 lg:order-1",children:[(0,x.jsx)("div",{className:"thumb mb-8 w-24",children:(0,x.jsx)(i.default,{className:"w-full",loader:a.k,src:m||(null===N||void 0===N?void 0:N.profile_picture)||"/assets/images/Default_Profile.svg",alt:"",width:96,height:96,objectFit:"cover"})}),(0,x.jsxs)("div",{className:"info mb-8 lg:mb-12 flex-1 pl-4",children:[(0,x.jsx)("div",{className:"font-helveticaNeue500 ratings flex items-center text-pink text-sm",children:M&&M.rate?(0,x.jsx)(o.Z,{rate:M.rate}):""}),(0,x.jsx)("h3",{className:"font-helveticaNeue500 text-dark uppercase text-2xl mb-1",children:(null===N||void 0===N?void 0:N.first_name)||"FirstName"}),(0,x.jsxs)("p",{className:"font-helveticaNeue500 text-dark uppercase text-xl mb-1",children:["@",(null===N||void 0===N?void 0:N.nickname)||"Username"]})]})]}),(0,x.jsxs)("div",{className:"aside-nav-wrap order-1 -mx-6 lg:mx-0 mb-8 lg:mb-0 lg:order-2",children:[(0,x.jsx)("div",{className:"account-nav-toggle-mobile bg-pink text-white lg:hidden",children:(0,x.jsxs)("div",{className:"relative bg-pink text-[14px] font-medium leading-none text-white lg:hidden uppercase pt-[25px] pb-[14px] px-[18px] cursor-pointer",onClick:function(){g(!v)},children:[null===(t=d.NP.find((function(e,t){return t+1===n&&e})))||void 0===t?void 0:t.label,(0,x.jsx)("div",{className:"".concat(v?"-rotate-45":""," absolute top-6 right-[10px] inline-block cursor-pointer transition-all float-right"),children:(0,x.jsx)(i.default,{src:"/assets/icons/plus-2.svg",alt:"",width:14,height:14})})]})}),(0,x.jsx)("div",{id:"account-nav",className:"inner bg-lightGrey lg:block px-6 lg:px-0 ".concat(v?"":"hidden"),children:d.NP.map((function(e,t){var r;return(0,x.jsxs)("div",{className:"pr-4 flex block cursor-pointer border-b text-dark border-b-dark bg-account-nav bg-no-repeat bg-right-center ".concat(n===t+1&&"text-pink border-b-pink bg-none"),onClick:function(){return u.default.push("/my-account".concat(e.path))},children:[(0,x.jsx)("div",{className:"font-helveticaNeue500 pt-7 pb-6 leading-none tracking-0 uppercase text-[18px]",children:e.label}),A(t)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"text-pink pl-1 pt-9 pb-6 font-helveticaNeue500 text-[16px] leading-[0px] tracking-0",children:"("}),(0,x.jsx)("div",{className:"text-pink pt-[33px] pb-6 font-helveticaNeue500 text-[16px] leading-[0px] tracking-0",children:null===(r=A(t))||void 0===r?void 0:r.total}),(0,x.jsx)("div",{className:"text-pink pt-9 pb-6 font-helveticaNeue500 text-[16px] leading-[0px] tracking-0",children:")"})]})]},e.label.toString())}))})]})]})}},82069:function(e,t,n){"use strict";var r=n(67294),s=n(25675),a=n(85893);t.Z=function(e){var t=e.rate,n=e.values,i=e.size||12,l=(0,r.useState)(0),o=l[0],c=l[1],d=(0,r.useState)(!1),u=d[0],f=d[1];return(0,r.useEffect)((function(){!function(){var e=parseInt(t.toString()),n=t-e;e>0&&c(e),n>0&&f(!0)}()}),[t]),(0,a.jsxs)("div",{className:"flex",children:[function(){for(var e=[],t=0;t<5;t++)e.push("rating-".concat(t+1));return e}().map((function(e,t){return(0,a.jsx)("div",{className:"mr-[4px]",children:t<o?(0,a.jsx)(s.default,{className:"cursor-pointer",src:"/assets/icons/rating-1.svg",alt:"icon rating",width:i,height:i}):u&&t===o?(0,a.jsx)(s.default,{className:"cursor-pointer",src:"/assets/icons/rating-2.svg",alt:"icon rating",width:i,height:i}):(0,a.jsx)(s.default,{className:"cursor-pointer",src:"/assets/icons/rating-3.svg",alt:"icon rating",width:i,height:i})},e.toString())})),(0,a.jsxs)("span",{className:"text-pink ".concat(i>12?"text-[14px] pt-[1px]":"text-[12px] -mt-[2px]"),children:["(",n,")"]})]})}},56581:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(46837),s=n(88767),a=function(e){return(0,s.useQuery)("seller_info",(function(){return(0,r.h)("users/".concat(e,"/info"))}),{enabled:!!e})}},64111:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(46837),s=n(88767),a=function(){return(0,s.useMutation)((function(e){return(0,r.h)("inbox/conversations/".concat(e.conversation_id,"/messages"),{method:"POST",body:JSON.stringify({message:e.message})})}),{})}},44149:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(46837),s=n(88767),a=n(5887),i=function(){var e=(0,a.J)().isLoggedIn;return(0,s.useQuery)("myProfile",(function(){return(0,r.h)("me/profile",{method:"get"})}),{refetchOnWindowFocus:!1,enabled:e})}},71031:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(42982),s=n(67294),a=n(25675),i=n(64111),l=n(27484),o=n.n(l),c=n(94649),d=n(22283),u=n(27335),f=n(15861),x=n(87757),p=n.n(x),m=n(46837),h=n(88767),v=n(97e3),g=n(20962),b=n(9723),j=n(85893),N=function(e){var t,n,l,x,N,w,y,k,_=e.active,S=e.toggleActive,C=e.productDetail,O=e.profile,E=e.conversation,P=e.unreadList,M=(0,s.useState)([]),Z=M[0],A=M[1],I=(0,i.s)(),L=I.mutate,R=I.isLoading,D=E.product.data.user.data.customer.data,H=E.customer.data.customer.data,F=E.product.data.user.data.id===(null===O||void 0===O?void 0:O.id),z=(0,g.E)().mutate,T=function(e){var t=e.setMessages,n=e.conversation;return(0,h.useQuery)("useGetConversationAndMessageMyAccount",(0,f.Z)(p().mark((function e(){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,(0,m.h)("inbox/conversations/".concat(n.id,"/messages"),{method:"get"});case 3:r=e.sent,t(r);case 5:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1,enabled:!!n,retry:0})}({conversation:E,setMessages:A}).refetch;(0,s.useEffect)((function(){E&&T()}),[E]),(0,s.useEffect)((function(){Z.length>0&&J()}),[Z]);var G=(0,c.TA)({initialValues:{message:""},validationSchema:d.r7,onSubmit:function(e){L({conversation_id:Number(null===E||void 0===E?void 0:E.id),message:e.message},{onSuccess:function(e){var t=(0,r.Z)(Z);t.push(e),A(t),J(),G.setFieldValue("message","");var n=P.find((function(e){return e.conversation_id===E.id}));n&&z({user_id:n.user_id,message_id:n.message_id,conversation_id:n.conversation_id})}})}}),V=(0,s.useRef)(null),J=function(){V&&V.current&&(V.current.scrollTop=V.current.scrollHeight)};return(0,j.jsx)("div",{className:"fixed bottom-0 right-0 z-9999 inline-block overflow-hidden text-left align-middle transition-all bg-white shadow-xl mx-auto w-full lg:w-[345px] border border-grey h-full lg:h-[450px] ".concat(_?"block":"hidden"),children:(0,j.jsxs)("div",{className:"border-0 h-[100vh] relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,j.jsx)("div",{className:"absolute top-[5px] right-0 items-start justify-end z-10",children:(0,j.jsx)("button",{className:"p-2 ml-auto bg-transparent border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return S(!_)},children:(0,j.jsx)("span",{className:"bg-transparent text-black text-2xl flex outline-none focus:outline-none",children:(0,j.jsx)(a.default,{src:"/assets/images/close.svg",alt:"",width:15,height:15})})})}),(0,j.jsxs)("div",{className:"relative flex-auto",children:[(0,j.jsx)("div",{className:"absolute top-0 left-0",children:(0,j.jsxs)("div",{className:"info flex text-sm items-baseline p-3",children:[(0,j.jsxs)("div",{className:"font-helveticaNeue500 w-[220px] uppercase text-dark",children:[(0,j.jsxs)("span",{className:"uppercase font-helveticaNeue500 text-[14px]",children:[F?H.first_name:D.first_name," "]}),"@".concat(F?H.nickname:D.nickname)]}),(0,j.jsxs)("div",{className:"font-helveticaNeue500 ratings flex items-center text-pink text-sm",children:[(0,j.jsx)("i",{className:"bg-rating-full inline-block w-3 h-3 bg-no-repeat bg-center bg-100% m-1"}),(0,j.jsx)("i",{className:"bg-rating-full inline-block w-3 h-3 bg-no-repeat bg-center bg-100% m-1"}),(0,j.jsx)("i",{className:"bg-rating-full inline-block w-3 h-3 bg-no-repeat bg-center bg-100% m-1"}),(0,j.jsx)("i",{className:"bg-rating-half inline-block w-3 h-3 bg-no-repeat bg-center bg-100% m-1"}),(0,j.jsx)("i",{className:"bg-rating-blank inline-block w-3 h-3 bg-no-repeat bg-center bg-100% m-1"})]})]})}),(0,j.jsx)("div",{className:"absolute top-[53px] left-0",children:(0,j.jsxs)("div",{className:"flex mb-4 space-x-3 px-3 font-helveticaNeue500",children:[(0,j.jsx)(a.default,{loader:v.k,src:null===C||void 0===C?void 0:C.media.data[0].original_image,alt:"image",width:54,height:68,objectFit:"cover"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"uppercase font-helveticaNeue text-[14px]",children:null===C||void 0===C?void 0:C.name}),(0,j.jsxs)("p",{className:"mb-3 font-helveticaNeue text-[14px]",children:[null===C||void 0===C||null===(t=C.currency)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.symbol,null===C||void 0===C?void 0:C.price]}),(null===C||void 0===C||null===(l=C.size)||void 0===l||null===(x=l.data)||void 0===x?void 0:x.name)&&(0,j.jsxs)("p",{className:"uppercase font-helveticaNeue text-[12px]",children:["SIZE:"," ",null!==C&&void 0!==C&&null!==(N=C.size)&&void 0!==N&&null!==(w=N.data)&&void 0!==w&&w.name?null===C||void 0===C||null===(y=C.size)||void 0===y||null===(k=y.data)||void 0===k?void 0:k.name:"Size"]})]})]})}),(0,j.jsxs)("div",{className:"absolute top-[130px] w-full h-[55%] lg:h-[272px] left-0",children:[(0,j.jsx)("div",{className:"border border-l-0 border-r-0 border-t-grey bg-lightGrey px-6 h-full scrollbar scrollbar-thin overflow-y-auto pt-3",ref:V,children:Z&&Z.length>0&&Z.filter((function(e){return!b.K4.includes(e.type)})).map((function(e){return(0,j.jsxs)("div",{className:"message flex items-start space-x-4 mb-4 ".concat(e.sender_id===(null===O||void 0===O?void 0:O.id)?"flex-row-reverse space-x-reverse":""),children:[(0,j.jsx)("div",{className:"flex-shrink-0",children:(0,j.jsx)(a.default,{loader:v.k,src:e.user.data.customer.data.profile_picture||"/assets/images/Default_Profile.svg",alt:"",width:48,height:48,className:"rounded-full",objectFit:"cover"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"bg-grey p-3 font-helveticaNeue400 text-[14px] ".concat(e.sender_id===(null===O||void 0===O?void 0:O.id)?"rounded-tr-[10px] rounded-tl-[10px] rounded-bl-[10px]":"rounded-tl-[10px] rounded-tr-[10px] rounded-br-[10px]"),children:e.message}),(0,j.jsx)("p",{className:"font-helveticaNeue400 pt-[8px] text-[12px]",children:o()(e.created_at).format("DD-MM-YY HH:mm")})]})]},e.id)}))}),(0,j.jsxs)("form",{className:"flex",name:"form",onSubmit:G.handleSubmit,children:[(0,j.jsx)(u.Z,{name:"message",classes:"w-full placeholder:text-mgrey !h-full border border-l-0 border-r-0 border-t-0 border-b-grey p-4",placeholder:"Type your message",onChange:G.handleChange,value:G.values.message,wraperClasses:"w-full",autoComplete:"off"}),(0,j.jsx)("button",{className:"bg-grey uppercase text-xs px-6 py-5 font-helveticaNeue500",type:"submit",disabled:R,children:R?"Sending":"Send"})]})]})]})]})})},w=n(4942),y=n(41664),k=n(11163);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t,n,r,i,l=e.conversation,o=e.setProduct,c=e.setOpenChat,d=e.setConversation,u=e.profile,f=e.unreadList,x=l.product.data,p=l.product.data.user.data.customer.data,m=l.customer.data.customer.data,h=l.product.data.user.data.id===u.id,g=(0,k.useRouter)().query.message_id;(0,s.useEffect)((function(){g&&Number(g)===l.id&&b()}),[g]);var b=function(){o(S(S({},x),{},{seller_info:p})),c(!0),d(l)};return(0,j.jsxs)("div",{className:"message-single relative border border-grey p-4 pr-8 mb-4 flex cursor-pointer before:absolute before:top-2/4 before:right-4 before:w-4 before:h-4 before:bg-message-arrow before:bg-no-repeat before:bg-center before:bg-100% before:-mt-2",onClick:b,children:[(0,j.jsx)("div",{className:"w-2/3 lg:w-2/4",children:(0,j.jsxs)("div",{className:"user-profile-block flex order-2 lg:order-1",children:[(0,j.jsx)("div",{className:"thumb w-16",children:(0,j.jsx)(a.default,{className:"w-full h-16 rounded-full object-cover",loader:v.k,src:(h?m.profile_picture:p.profile_picture)||"/assets/images/Default_Profile.svg",alt:"",width:64,height:64})}),(0,j.jsxs)("div",{className:"info pl-2 lg:pl-4 w-100 lg:w-auto",children:[f.map((function(e){return e.conversation_id})).includes(l.id)&&(0,j.jsx)("p",{className:"font-helveticaNeue500 text-pink uppercase text-[12px] mb-1",children:"New message!"}),(0,j.jsx)("h3",{className:"font-helveticaNeue500 text-dark uppercase text-lg mb-0.5 break-all",children:h?m.first_name:p.first_name}),(0,j.jsx)("p",{className:"font-helveticaNeue500 text-dark uppercase text-sm mb-0.5",children:"@".concat(h?m.nickname:p.nickname)})]})]})}),(0,j.jsx)("div",{className:"w-1/3 lg:w-2/4",children:(0,j.jsxs)("div",{className:"product-popup flex w-full text-left",children:[(0,j.jsx)("div",{className:"thumb w-16",children:(0,j.jsx)(y.default,{href:"/product/".concat(x.id),children:(0,j.jsx)("a",{children:(0,j.jsx)(a.default,{loader:v.k,className:"w-full",src:x.media.data[0].original_image,alt:"",width:64,height:76,objectFit:"cover"})})})}),(0,j.jsxs)("div",{className:"info flex-1 text-sm pl-4 hidden lg:block",children:[(0,j.jsx)("h3",{className:"font-helveticaNeue500 uppercase mb-1",children:x.name}),(0,j.jsxs)("p",{className:"mb-2",children:[null===x||void 0===x||null===(t=x.currency)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.symbol,x.price]}),(null===x||void 0===x||null===(r=x.size)||void 0===r?void 0:r.data.name)&&(0,j.jsxs)("p",{className:"mb-2",children:["SIZE: ",null===x||void 0===x||null===(i=x.size)||void 0===i?void 0:i.data.name]})]})]})})]})},O=n(47302),E=n(5887),P=n(44149),M=n(9008),Z=n(71537),A=n(9113),I=n(80868),L=n(87017),R=function(){var e=(0,E.J)().isLoggedIn,t=(0,k.useRouter)(),n=(0,P.e)().data,r=function(e){var t=e.seller_id,n=(0,E.J)().isLoggedIn;return(0,h.useQuery)("getConversationsBySeller",(function(){return(0,m.h)("inbox/conversations/seller/".concat(t),{method:"get"})}),{enabled:n&&!!t,refetchOnWindowFocus:!1})}({seller_id:Number(null===n||void 0===n?void 0:n.id)}),a=r.data,i=r.refetch,l=(0,A.f)(),o=l.data,c=l.refetch,d=(0,s.useState)(),u=d[0],f=d[1],x=(0,s.useState)([]),p=x[0],v=x[1],w=(0,s.useState)(!1),y=w[0],_=w[1],S=(0,s.useState)(),R=S[0],D=S[1],H=(0,s.useState)([]),F=H[0],z=H[1],T=(0,g.E)().mutate,G=(0,I.r)(),V=G.data,J=G.refetch;(0,s.useEffect)((function(){if(a){var e=t.query;if(e.open_conversation&&e.conversationId){var n=a.find((function(t){return t.id===Number(e.conversationId)}));n&&(_(!0),f(n),D(n.product.data))}}}),[a]),(0,s.useEffect)((function(){o&&z(o.unreads_message)}),[o]),(0,s.useEffect)((function(){V&&v(V.data)}),[V]);return(0,s.useEffect)((function(){if(y&&u){var e=F.find((function(e){return e.conversation_id===u.id}));e&&T({user_id:e.user_id,message_id:e.message_id,conversation_id:e.conversation_id},{onSuccess:function(){c(),J(),i()}})}}),[y,u]),e?(0,j.jsxs)("div",{children:[(0,j.jsxs)(M.default,{children:[(0,j.jsx)("title",{children:"GanniRepeat - My Account - My Address"}),(0,j.jsx)("meta",{name:"description",content:"GanniRepeat - My Account - My Address"}),(0,j.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,j.jsx)("main",{className:"text-dark font-helveticaNeue400 text-sm overflow-x-hidden font-normal",children:(0,j.jsxs)("div",{className:"flex flex-wrap lg:bg-lightGrey",children:[(0,j.jsx)("div",{className:"lg:py-12 px-6 lg:px-12 w-full lg:w-480",children:(0,j.jsx)(O.Z,{tab:10})}),(0,j.jsxs)("div",{className:"bg-white py-6 lg:py-12 px-6 lg:px-20 w-full lg:w-auto lg:flex-1",children:[(0,j.jsx)("h3",{className:"font-helveticaNeue500 uppercase text-2xl mb-2",children:"My Account"}),(0,j.jsx)("h2",{className:"font-helveticaNeue500 uppercase text-green text-4xl lg:text-5xl mb-2",children:"Messages"}),(0,j.jsx)("div",{className:"mt-12",children:(0,j.jsx)("hr",{className:"border-t-grey my-8"})}),n&&a&&a.length>0?a.filter((function(e){return function(e){var t=p.find((function(t){return t.inbox_conversation.data.id===e}));if(t){var n=t.inbox_message.data;return!b.E2.includes(n.type)}return!0}(e.id)})).map((function(e){return(0,j.jsx)(C,{conversation:e,setProduct:D,setOpenChat:_,setConversation:f,profile:n,unreadList:F},e.id)})):(0,j.jsx)(Z.Z,{title:"You have no messages yet!",sub_title:"You can view messages sent and received about items you are buying or selling here.",isNewIn:!0,isSell:!0})]})]})}),R&&y&&u&&(0,j.jsx)(N,{active:y,toggleActive:_,productDetail:R,conversation:u,profile:n,unreadList:F})]}):(0,j.jsx)(L.Z,{})}},40104:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-account/messages",function(){return n(71031)}])}},function(e){e.O(0,[9774,2888,179],(function(){return t=40104,e(e.s=t);var t}));var t=e.O();_N_E=t}]);