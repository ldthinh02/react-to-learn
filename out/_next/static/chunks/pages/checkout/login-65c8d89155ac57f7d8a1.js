(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7666],{61312:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return k}});var n=a(9008),r=a(94649),t=a(11163),i=a(5887),l=a(27335),c=a(68020),o=a(15859),d=a(67294),m=a(41664),u=a(22283),h=a(18570),x=a(22887),g=a(46837),b=a(88767),p=a(98893),v=a(62653),f=a(38539),j=a(3732),N=a(85893);function k(){var e=(0,d.useState)(!1),s=e[0],a=e[1],k=(0,d.useState)(!1),w=k[0],y=k[1],_=(0,d.useState)(!1),S=_[0],C=_[1],E=(0,t.useRouter)(),Z=(0,i.J)(),L=Z.isLoggedIn,M=Z.guest_id,O=(0,j._3)((function(e){return e.setListingData}));L&&E.push("/checkout/delivery");var T=function(){y(!w)},A=(0,h.f)(),P=A.mutate,R=A.isLoading,G=A.isError,I=A.error,V=(0,b.useMutation)((function(e){return(0,g.h)("newsletter/subscribe",{method:"POST",body:JSON.stringify({email:e})})})),z=V.mutate,D=V.isError,F=V.error,J=(0,f.Am)(),X=J.mutate,K=J.isLoading,Y=J.isSuccess,q=(0,b.useMutation)((function(e){return(0,g.h)("users/".concat(e.email,"/exist"))})).mutate,B=(0,r.TA)({enableReinitialize:!0,initialValues:{email:"",password:"",keep_signed_in:!1},validationSchema:u.z8,onSubmit:function(e){P(e,{onSuccess:function(){E.push("/checkout/delivery")}})}}),H=(0,r.TA)({enableReinitialize:!0,initialValues:{email:"",receive_emails:!1,terms:!1},validationSchema:u.CG,onSubmit:function(e){q({email:e.email},{onSuccess:function(s){s.email_found?C(!0):e.receive_emails?z(e.email,{onError:function(){},onSuccess:function(){X(e,{onSuccess:function(){O({guest_id:"".concat(M),email:H.values.email}),E.push("/checkout/delivery")}})}}):X(e,{onSuccess:function(){O({guest_id:"".concat(M),email:H.values.email}),E.push("/checkout/delivery")}})}})}});return(0,N.jsxs)("div",{children:[(0,N.jsxs)(n.default,{children:[(0,N.jsx)("title",{children:"GanniRepeat - Checkout Login"}),(0,N.jsx)("meta",{name:"description",content:"GanniRepeat - Checkout Login"}),(0,N.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,N.jsxs)("div",{className:"flex flex-wrap lg:bg-lightGrey flex-row-reverse",children:[(0,N.jsx)(p.O,{showMobileViewOrder:s,toggleMobileViewOrder:function(){a(!s)}}),(0,N.jsx)("div",{className:"bg-white py-6 lg:py-12 px-6 lg:px-20 w-full lg:w-auto lg:flex-1",children:(0,N.jsx)("div",{className:"flex flex-wrap tabs",id:"tabs-id",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("ul",{className:"flex mb-0 list-none pt-3 pb-4 flex-row tabs-nav",children:[(0,N.jsx)("li",{className:"-mb-px mr-2 last:mr-0 w-3/4 text-center",children:(0,N.jsxs)("a",{className:"text-xs font-helveticaNeue400 px-5 py-3 rounded block leading-normal text-green",children:[(0,N.jsx)("span",{className:"icon w-[18px] h-[21px] block m-auto bg-no-repeat bg-center bg-100% mb-[5px] bg-gannirepeat-green",children:"\xa0"}),"1.Login"]})}),(0,N.jsx)("li",{className:"-mb-px mr-2 last:mr-0 w-3/4 text-center",children:(0,N.jsxs)("a",{className:"text-xs font-helveticaNeue400 px-5 py-3 rounded block leading-normal text-mgrey",children:[(0,N.jsx)("span",{className:"icon w-[18px] h-[21px] block m-auto bg-no-repeat bg-center bg-100% mb-[5px] bg-gannirepeat-grey",children:"\xa0"}),"2.Delivery"]})}),(0,N.jsx)("li",{className:"-mb-px mr-2 last:mr-0 w-3/4 text-center",children:(0,N.jsxs)("a",{className:"text-xs font-helveticaNeue400 px-5 py-3 rounded block leading-normal text-mgrey",children:[(0,N.jsx)("span",{className:"icon w-[18px] h-[21px] block m-auto bg-no-repeat bg-center bg-100% mb-[5px] bg-gannirepeat-grey",children:"\xa0"}),"3.Payment"]})})]}),(0,N.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 rounded",children:(0,N.jsx)("div",{className:"py-5 flex-auto",children:(0,N.jsxs)("div",{className:"tab-content tab-space",children:[(0,N.jsxs)("div",{className:"block",id:"tab-login",children:[(0,N.jsx)("h2",{className:"font-helveticaNeue500 uppercase text-dark text-2xl lg:text-5xl mb-2",children:"Sign in or checkout as a guest"}),(0,N.jsx)("div",{className:"mt-12",children:(0,N.jsx)("hr",{className:"border-t-grey my-8"})}),(0,N.jsx)("p",{className:"text-lg mb-6",children:"Sign in to your account "}),(0,N.jsxs)("form",{onSubmit:B.handleSubmit,children:[(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)(l.Z,{name:"email",label:"Email",onChange:B.handleChange,value:B.values.email,errorMessage:B.errors.email&&B.touched.email?B.errors.email:""})}),(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)(o.Z,{name:"password",label:"Password",onChange:B.handleChange,value:B.values.password,errorMessage:B.errors.password&&B.touched.password?B.errors.password:""})}),(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)("a",{onClick:T,className:"font-helveticaNeue500 text-sm uppercase underline cursor-pointer",children:"Forgot your password?"})}),(0,N.jsx)("div",{className:"mb-6","aria-labelledby":"checkbox-group",role:"group",children:(0,N.jsx)(c.Z,{name:"keep_signed_in",onChange:B.handleChange,checked:B.values.keep_signed_in,content:"Keep me signed in"})}),G&&(0,N.jsx)(x.Z,{message:I.message}),(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)("button",{disabled:R,className:"font-helveticaNeue500 text-center px-3 transition-all  border border-dark text-white bg-dark hover:border-dark hover:text-dark hover:bg-white py-4 text-xs block w-full uppercase tracking-widest",type:"submit",children:R?"Loading...":"Sign In"})})]}),(0,N.jsx)("div",{className:"mt-12",children:(0,N.jsx)("hr",{className:"border-t-grey my-8"})}),(0,N.jsx)("p",{className:"text-lg mb-4",children:"Checkout as a guest "}),(0,N.jsx)("p",{className:"mb-6",children:"You can create an account after you checkout"}),(0,N.jsxs)("form",{onSubmit:H.handleSubmit,children:[(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)(l.Z,{name:"email",label:"Email",onChange:H.handleChange,value:H.values.email,errorMessage:H.errors.email&&H.touched.email?H.errors.email:""})}),(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)(c.Z,{name:"receive_emails",onChange:H.handleChange,checked:H.values.receive_emails,content:"Sign up to receive emails from GANNI REPEAT."})}),(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)(c.Z,{name:"terms",onChange:H.handleChange,checked:H.values.terms,content:(0,N.jsxs)(N.Fragment,{children:["I hereby agree to the"," ",(0,N.jsx)(m.default,{href:"/terms",children:(0,N.jsx)("a",{className:"underline",children:"terms and conditions"})})," ","set out by GANNI REPEAT."]}),errorMessage:H.errors.terms&&H.touched.terms?H.errors.terms:""})}),!S||K||Y?"":(0,N.jsx)(x.Z,{message:"This email address is already linked to an account"}),D&&(0,N.jsx)(x.Z,{message:F.message}),(0,N.jsx)("div",{className:"mb-6",children:(0,N.jsx)("button",{className:"font-helveticaNeue500 text-center px-3 transition-all border border-dark text-white bg-dark hover:border-dark hover:text-dark hover:bg-white py-4 text-xs block w-full uppercase tracking-widest",type:"submit",children:"Checkout as a guest"})})]})]}),(0,N.jsx)(v.Z,{active:w,toggleLoginModal:T,toggleOther:"forgot-password"})]})})})]})})})]})]})}},25753:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/login",function(){return a(61312)}])}},function(e){e.O(0,[8893,9774,2888,179],(function(){return s=25753,e(e.s=s);var s}));var s=e.O();_N_E=s}]);