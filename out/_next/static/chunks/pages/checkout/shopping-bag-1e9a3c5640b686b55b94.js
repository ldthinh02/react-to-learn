(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5229],{73303:function(e,t,r){var n=r(67206),i=r(67762);e.exports=function(e,t){return e&&e.length?i(e,n(t,2)):0}},77256:function(e,t,r){"use strict";var n=r(87517),i=r(88615),c=r(67294),s=r(85893);t.Z=function(e){var t=e.price,r=e.onChangePrice,o=(0,c.useState)("".concat(t)),u=o[0],a=o[1],d=(0,n.u)((function(e){return e.browserCurrency}));return(0,c.useEffect)((function(){var e,n,c="";if(Array.isArray(t)?n=t:(t||(c="FREE"),n=[t]),0===(null===(e=d.currencies)||void 0===e?void 0:e.length)&&(c=String(n.reduce((function(e,t){return e+t}),0))),d.currency&&d.currencies&&d.currencies.length>0){var s=d.currencies.find((function(e){return e.code===d.currency}));if(s){var o=n.reduce((function(e,t){return e+(0,i.NM)(t*(s.rate||1),s)}),0);c=function(e,t){return"\xa3"===e?"".concat(e).concat(t):"".concat(t," ").concat(e)}(null===s||void 0===s?void 0:s.symbol,(0,i.NM)(o,s))}}r&&r(c),a(c)}),[d.currency,d.currencies,t]),(0,s.jsx)("span",{className:"text-[14px] uppercase text-dark font-helveticaNeue400",children:u})}},88275:function(e,t,r){"use strict";r.d(t,{e:function(){return u}});var n=r(4942),i=r(14671),c=r(38597);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(0,i.Z)((0,c.tJ)((function(e){return{cartConfirmed:null,setCartConfirmed:function(t){e(t?function(){return{cartConfirmed:o({},t)}}:function(){return{cartConfirmed:null}})}}}),{name:"cartConfirmed"}))},59264:function(e,t,r){"use strict";r.d(t,{gX:function(){return s},qR:function(){return o},oQ:function(){return u},xb:function(){return a}});var n=r(46837),i=r(88767),c=r(5887),s=function(){var e=(0,c.J)().isLoggedIn;return(0,i.useQuery)("myWishlist",(function(){return(0,n.h)("wishlist/me?includes=user,image_and_url")}),{refetchOnWindowFocus:!1,retry:0,enabled:!!e})},o=function(e){return(0,i.useQuery)("countLikes",(function(){return(0,n.h)("wishlist/count/".concat(e))}),{refetchOnWindowFocus:!1,retry:0,enabled:!!e})},u=function(){return(0,i.useMutation)((function(e){return(0,n.h)("wishlist/".concat(e.product_id),{method:"DELETE"})}))},a=function(){return(0,i.useMutation)((function(e){return(0,n.h)("wishlist/me",{method:"POST",body:JSON.stringify(e)})}))}},20607:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(67294),i=r(9008),c=r(25675),s=r(11163),o=r(41664),u=r(3732),a=r(59264),d=r(38539),l=r(5887),p=r(97e3),f=r(77256),h=r(43753),m=r(85893),x=function(e){var t=e.product,r=(0,l.J)().isLoggedIn,n=(0,d.$r)().refetch,i=(0,a.gX)().data,s=(0,u.$g)().mutate,x=(0,a.xb)().mutate;return(0,m.jsx)("div",{className:"bg-white mb-4 ",children:(0,m.jsxs)("div",{className:"product-popup flex w-full text-left py-4 px-2",children:[(0,m.jsx)("div",{className:"thumb w-100 cursor-pointer",children:(0,m.jsx)(o.default,{href:"/product/".concat(t.id),children:(0,m.jsx)("a",{children:(0,m.jsx)(c.default,{loader:p.k,className:"w-full",src:t.medium_image_path,alt:"Product Image",width:"100%",height:"100%",objectFit:"cover"})})})}),(0,m.jsx)("div",{className:"info flex-1 text-sm pl-4",children:(0,m.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap justify-between px-2",children:[(0,m.jsxs)("div",{className:"",children:[(0,m.jsx)("h3",{className:"font-helveticaNeue500 uppercase mb-1",children:t.name}),(0,m.jsx)("p",{className:"mb-2",children:(0,m.jsx)(f.Z,{price:t.checkout_product.data.selling_price})}),(0,m.jsxs)("p",{className:"mb-2",children:["SIZE: ",t.size_name]})]}),(0,m.jsxs)("div",{className:"md:text-right grow w-full md:w-auto min-w-[150px]",children:[(0,m.jsx)("a",{onClick:function(){s({product_id:t.id},{onSuccess:function(){n(),(0,h.Vl)("remove_from_cart",{remove_from_cart:{content_type:"product",product_id:t.id,product_name:t.name,product_category:t.categories[0].name,product_brand:t.designer_name,product_condition:t.condition_name,product_size:t.size_name,product_color:t.color_name,product_price:t.base_currency_price,product_quantity:1}})}})},className:"font-helveticaNeue500 uppercase text-sm underline cursor-pointer",children:"Remove"}),(0,m.jsx)("br",{}),r&&(!i||void 0===i.find((function(e){return e.product_id===t.id})))&&(0,m.jsx)("a",{onClick:function(){x({product_id:t.id},{onSuccess:function(){s({product_id:t.id},{onSuccess:function(){n()}})}})},className:"font-helveticaNeue500 uppercase text-sm underline cursor-pointer",children:"Move to wishlist"})]})]})})]})})},b=r(94649),v=r(27335),N=r(88275),g=function(){var e=(0,s.useRouter)(),t=(0,l.J)().isLoggedIn,r=(0,N.e)().setCartConfirmed;(0,n.useEffect)((function(){r(null)}),[]);var a=(0,u.jD)((function(e){return e.cart})),p=(0,d.$r)().refetch,h=(0,d.U7)(),g=h.mutate,j=h.isSuccess,w=h.isError,y=function(){a&&a.products&&0!==a.products.data.length?t?e.push("/checkout/delivery"):e.push("/checkout/login"):e.push("/buy/new-in")},_=(0,b.TA)({enableReinitialize:!0,initialValues:{code:""},onSubmit:function(e){g({code:e.code},{onSuccess:function(){p()}})}});return(0,m.jsxs)("div",{children:[(0,m.jsxs)(i.default,{children:[(0,m.jsx)("title",{children:"Buy and Sell GANNI Pre-loved Fashion on GANNIREPEAT | Shopping Bag"}),(0,m.jsx)("meta",{name:"description",content:"Extend the life of your wardrobe with GANNIREPEAT: The Easiest, Safest and Cheapest way to Buy Pre-loved GANNI Clothes, Shoes and Accessories."}),(0,m.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,m.jsxs)("div",{className:"flex flex-wrap",children:[(0,m.jsx)("div",{className:"py-6 lg:py-12 px-6 lg:px-20 w-full lg:w-2/4 bg-[#FAFAFA]",children:(0,m.jsxs)("div",{className:"w-full m-auto",children:[(0,m.jsx)("h2",{className:"font-helveticaNeue500 text-xl uppercase mb-6",children:"Your shopping bag"}),a&&a.products&&a.products.data.length>0?a.products.data.map((function(e,t){var r;return(0,m.jsxs)("span",{children:[(0,m.jsxs)("div",{className:"flex flex-wrap mb-4",children:[(0,m.jsx)("div",{className:"w-full md:w-2/4"}),(0,m.jsx)("div",{className:"w-full md:w-2/4 md:text-right",children:(0,m.jsxs)("span",{className:"font-helveticaNeue500 text-sm",children:["Shipping from:"," ",(0,m.jsx)("span",{className:"text-sm capitalize",children:null===(r=e.seller_info)||void 0===r?void 0:r.city})]})})]}),(0,m.jsx)("span",{children:(0,m.jsx)(x,{product:e})})]},t)})):(0,m.jsx)("div",{className:"text-sm flex-1",children:(0,m.jsx)("p",{children:"The items you add to your shopping bag will appear here."})})]})}),(0,m.jsxs)("div",{className:"bg-white py-6 lg:py-12 px-6 lg:px-20 w-full lg:w-2/4",children:[(0,m.jsx)("h2",{className:"font-helveticaNeue500 text-2xl uppercase mb-6 md:mb-12",children:"Order summary"}),a&&a.products&&a.products.data.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("table",{className:"table w-full summary-table mb-8",children:[(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"text-sm p-1 pl-0",children:"Order value"}),(0,m.jsx)("td",{className:"text-sm p-1 pr-0 text-right",children:(0,m.jsx)(f.Z,{price:Number(a.sub_total)})})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"text-sm p-1 pl-0",children:"Shipping"}),(0,m.jsx)("td",{className:"text-sm p-1 pr-0 text-right",children:(0,m.jsx)(f.Z,{price:Number(a.shipping_rate)})})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"text-sm p-1 pl-0 ".concat(a.coupon&&a.coupon.data.code&&(a.products_discount||a.shipping_discount)?"":"pb-8"),children:"Tax"}),(0,m.jsx)("td",{className:"text-sm p-1 pr-0 ".concat(a.coupon&&a.coupon.data.code&&(a.products_discount||a.shipping_discount)?"":"pb-8"," text-right"),children:(0,m.jsx)(f.Z,{price:Number(a.tax_total)})})]}),a.coupon&&a.coupon.data.code&&(a.products_discount||a.shipping_discount)?(0,m.jsxs)("tr",{className:"text-shocking_pink",children:[(0,m.jsxs)("td",{className:"text-sm p-1 pl-0 pb-8",children:["Promocode ",a.coupon.data.code]}),(0,m.jsx)("td",{className:"text-sm p-1 pr-0 pb-8 text-right",children:(0,m.jsx)(f.Z,{price:a.products_discount||0+(a.shipping_discount||0)})})]}):""]}),(0,m.jsx)("tfoot",{className:"border-t border-t-grey",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"font-helveticaNeue500 text-sm p-1 pl-0 pt-8",children:"TOTAL"}),(0,m.jsx)("td",{className:"font-helveticaNeue500 text-sm p-1 pr-0 text-right pt-8",children:(0,m.jsx)(f.Z,{price:Number(a.total)})})]})})]}),(0,m.jsxs)("div",{className:"border border-pink p-4 flex items-center mb-6 lg:mb-8",children:[(0,m.jsx)("div",{className:"w-6",children:(0,m.jsx)(c.default,{src:"/assets/images/Info.svg",alt:"",width:"100%",height:"100%"})}),(0,m.jsx)("div",{className:"pl-4 text-sm flex-1 w-full",children:(0,m.jsx)("p",{children:"The final shipping costs are calculated based on your delivery location and local sales taxes. However, the shipping costs exclude all relevant import duties and customs fees. As the recipient, you will need to pay for these duties and fees upon request by your Local Customs."})})]}),(0,m.jsxs)("form",{onSubmit:_.handleSubmit,children:[(0,m.jsxs)("div",{className:"flex items-end",children:[(0,m.jsx)(v.Z,{name:"code",label:"Promo Code",onChange:_.handleChange,value:_.values.code,labelClasses:"text-sm mb-2",wraperClasses:"grow mr-2"}),(0,m.jsx)("button",{type:"submit",className:"font-helveticaNeue500 text-center h-12 py-4 transition-all w-24 bg-grey uppercase text-xs hover:opacity-80 tracking-widest",children:"Submit"})]}),j&&a.coupon&&a.coupon.data.code||w?(0,m.jsx)("span",{className:"input-response mt-2 text-sm block text-pink",children:j&&a.coupon?"Promocode ".concat(a.coupon.data.code," has been applied"):"Invalid promocode"}):""]})]}):(0,m.jsx)("div",{className:"text-sm flex-1",children:(0,m.jsx)("p",{children:"You don't have any items in your bag."})}),(0,m.jsxs)("div",{className:"flex flex-wrap mt-12",children:[(0,m.jsx)("div",{className:"w-full",children:(0,m.jsx)("div",{className:"mb-6",children:a&&a.products&&a.products.data.length>0?(0,m.jsx)("button",{onClick:y,className:"font-helveticaNeue500 text-center px-3 transition-all border border-dark text-white bg-dark hover:border-dark hover:text-dark hover:bg-white py-4 text-xs block w-full uppercase tracking-widest",children:"Checkout"}):(0,m.jsx)("button",{onClick:y,className:"font-helveticaNeue500 text-center px-3 transition-all border border-dark text-white bg-dark hover:border-dark hover:text-dark hover:bg-white py-4 text-xs block w-full uppercase tracking-widest",children:"CONTINUE SHOPPING"})})}),t&&(0,m.jsx)(o.default,{passHref:!0,href:"/my-account/wishlist",children:(0,m.jsx)("div",{className:"w-full",children:(0,m.jsx)("div",{className:"mb-6",children:(0,m.jsx)("button",{className:"font-helveticaNeue500 text-center px-3 transition-all   border border-dark text-dark hover:border-dark hover:text-white hover:bg-dark py-4 text-xs block w-full uppercase tracking-widest",children:"Go to wishlist"})})})})]})]})]})]})}},88615:function(e,t,r){"use strict";r.d(t,{pD:function(){return s},NM:function(){return o},RL:function(){return u},SX:function(){return a},dI:function(){return d},Mi:function(){return l},FA:function(){return p},JT:function(){return f},Pg:function(){return h},SK:function(){return m},D0:function(){return x}});r(87757);var n=r(9723),i=(r(46837),r(73303)),c=r.n(i),s=function(e,t){var r=t.find((function(t){return t.alpha2Code===e}));return null===r||void 0===r?void 0:r.name},o=function(e,t){return!t||"DKK"!==t.code&&"SEK"!==t.code&&"NOK"!==t.code?Math.ceil(2*e)/2:Math.round(e)},u=function(e){switch(e){case n.i_.SOLD:return"sold";case n.i_.CANCELLED:return"cancelled";case n.i_.RETURNED:return"returned";default:return"sold confirmed"}},a=function(e){return e.filter((function(e){return["SOLD_CONFIRMED","CANCELLED","RETURNED","PAYMENT_SENT"].includes(e.status)})).length===e.length?n.DF.COMPLETED:n.DF.PROCESSING},d=function(e){return e.tracking_number?e.status===n.Tb.TRACKED?n.Tb.TRACKED:e.status===n.Tb.DELIVERED?n.Tb.DELIVERED:n.Tb.SHIPPED:n.Tb.PENDING},l=function(e,t,r){var n,i,c=null===(n=r.currencies)||void 0===n?void 0:n.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)})),s=null===(i=r.currencies)||void 0===i?void 0:i.find((function(e){return"EUR"===e.code}));return c&&s?c.code===s.code?Number(e.toFixed(2)):Number((e/(c.rate||1)).toFixed(2)):Number(e.toFixed(2))},p=function(e,t,r){var n,i,c=null===(n=r.currencies)||void 0===n?void 0:n.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)})),s=null===(i=r.currencies)||void 0===i?void 0:i.find((function(e){return"EUR"===e.code}));return c&&s?c.code===s.code?Number(e.toFixed(2)):Number((e*(c.rate||1)).toFixed(2)):Number(e.toFixed(2))},f=function(e,t,r,n){var i,c,s=null===(i=n.currencies)||void 0===i?void 0:i.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)})),o=null===(c=n.currencies)||void 0===c?void 0:c.find((function(e){return e.code===r||e.symbol===r||e.id===Number(r)}));return s&&o?s.code===o.code?Number(e.toFixed(2)):Number((e*((o.rate||1)/(s.rate||1))).toFixed(2)):Number(e.toFixed(2))},h=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(t);return n.join("default"===r?"":r||" / ")},m=function(e){return c()(e,(function(e){return e.tax_fee}))},x=function(e){if(!e)return{isValid:!1,message:""};if(e.size<1024)return{isValid:!1,message:"Minimum supported file size is 1kb"};if(e.size>1e7)return{isValid:!1,message:"Maximum supported file size is 10mb"};var t=e.type.split("/"),r=["jpeg","jpg","png"];return t[1]&&r.includes(t[1])?{isValid:!0,message:""}:{isValid:!1,message:"Supported file types are ".concat(r.join(", "))}}},72256:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/shopping-bag",function(){return r(20607)}])}},function(e){e.O(0,[9774,2888,179],(function(){return t=72256,e(e.s=t);var t}));var t=e.O();_N_E=t}]);