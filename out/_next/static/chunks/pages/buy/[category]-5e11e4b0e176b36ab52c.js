(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5803],{16453:function(e,t,n){"use strict";var r=n(85893);t.Z=function(e){var t=e.children,n=e.description,i=e.wardrobeData;return(0,r.jsx)("div",{className:"page-title bg-grey py-8 md:py-10 px-4 ".concat(i&&"!bg-green"),children:(0,r.jsx)("div",{className:"container m-auto px-4 xl2:max-w-screen-xl2",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"font-helveticaNeueLTCom85Heavy uppercase text-dark text-3xl mb-1 ".concat(i&&"!text-white"),children:t}),(0,r.jsx)("div",{className:"text-lg font-helveticaNeue400 text-dark ".concat(i&&"!text-white"),children:(0,r.jsx)("p",{children:i?"Favourite styles hand-picked by our creative director Ditte Reffstrup":n})})]})})})}},98145:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(85893),i=function(e){var t=e.name,n=e.selected,i=e.onChange;return(0,r.jsxs)("label",{className:"custom-checkbox cursor-pointer mb-px inline-block",children:[(0,r.jsx)("input",{type:"checkbox",className:"hidden",checked:n,onChange:i}),(0,r.jsx)("span",{className:"relative block pl-[22px] text-sm before:absolute before:left-0 before:w-[12px] before:h-[12px] before:border before:border-dark",children:t})]})},c=n(11163),s=function(e){var t=e.children,n=e.items,s=e.selected,o=e.attributeName,a=e.listActive,l=e.onChangeStatus,u=(0,c.useRouter)();return(0,r.jsxs)("div",{className:"filter-single mb-4 lg:mb-8",children:[(0,r.jsx)("h4",{className:"font-helveticaNeue500 text-dark text-lg uppercase relative mb-2 pr-5 cursor-pointer before:w-3 before:h-2 before:bg-100% before:absolute before:top-2/4 before:right-[3px] before:-m-1 before:transition-all ".concat(a.includes(o)?"before:bg-collapse-title":"before:bg-dropdown"),onClick:function(){return l(o)},children:t}),(0,r.jsx)("div",{id:"catList",className:"scrollbar-thin scrollbar-thumb-dark scrollbar-track-gray-300 h-30 overflow-y-scroll mr-[4px] ".concat(a.includes(o)?"block":"hidden"),children:(0,r.jsx)("ul",{className:"h-[100px]",children:n.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(i,{name:e.name,selected:s.includes(e.id),onChange:(t=e.name,function(e){var n=e.target.checked,r=t.toLowerCase(),i=u.query[o]?(null===u||void 0===u?void 0:u.query[o]).split(","):[];(i=n?i.concat(r):i.filter((function(e){return e!==r}))).length?u.query[o]=i.join(","):delete u.query[o],u.push(u,{},{shallow:!0})})})},e.id);var t}))})})]})}},29359:function(e,t,n){"use strict";var r=n(9206),i=n.n(r),c=n(85893);t.Z=function(e){var t=e.children,n=e.onClick;return(0,c.jsxs)("button",{className:"border border-black p-[12px] mr-3 flex items-center justify-center cursor-pointer my-1",onClick:function(){return n(t)},children:[(0,c.jsx)("h4",{className:"text-sm font-helveticaNeue500 uppercase mt-1",children:t}),(0,c.jsx)(i(),{className:"ml-2 h-[20px] w-[20px]","aria-hidden":"true"})]})}},147:function(e,t,n){"use strict";var r=n(67294),i=n(25675),c=n(11163),s=n(85893);t.Z=function(e){var t=e.pageNumber,n=(0,r.useState)([]),o=n[0],a=n[1],l=(0,r.useState)(),u=l[0],d=l[1],p=(0,c.useRouter)(),f=Number(p.query.page)||1,h=function(e){p.query.page="".concat(e),p.push(p)},m=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(t);return(0,r.useEffect)((function(){t<10?a(m):f<=7||f+1>t?(a(m.slice(0,7)),d(void 0)):(a(m.slice(0,4)),d(f+1<t?m.slice(f-2,f+1):m.slice(f-2,f)))}),[f,t]),(0,s.jsxs)("ul",{className:"inline-flex items-center",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:function(){return h(f-1>0?f-1:1)},className:"mx-2 inline-block cursor-pointer",children:(0,s.jsx)(i.default,{src:"/assets/images/angle-left.svg",alt:"",width:12,height:12})})}),o.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:function(){return h(e)},className:"font-helveticaNeue400 text-dark text-lg mx-2 inline-block cursor-pointer ".concat(e===f&&"underline"),children:e})},e)})),u?(0,s.jsx)("li",{children:"...."}):null,u&&u.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:function(){return h(e)},className:"font-helveticaNeue400 text-dark text-lg mx-2 inline-block cursor-pointer ".concat(e===f&&"underline"),children:e})},e)})),t>9?(0,s.jsxs)(s.Fragment,{children:[f+2<t||t===f?(0,s.jsx)("li",{children:"...."}):null,(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:function(){return h(t)},className:"font-helveticaNeue400 text-dark text-lg mx-2 inline-block cursor-pointer ".concat(t===f&&"underline"),children:t})})]}):null,(0,s.jsx)("li",{children:(0,s.jsx)("a",{onClick:function(){return h(f+1<t?f+1:t)},className:"mx-2 inline-block cursor-pointer",children:(0,s.jsx)(i.default,{src:"/assets/images/angle-right.svg",alt:"",width:12,height:12})})})]})}},955:function(e,t,n){"use strict";n.d(t,{B:function(){return f}});var r=n(4942),i=n(70885),c=n(15861),s=n(87757),o=n.n(s),a=n(46837),l=n(88767),u=n(17563);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){return(0,l.useMutation)(function(){var e=(0,c.Z)(o().mark((function e(t){var n,c,s,l,d,f,h,m,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.searchAttributes,c=t.sort,s=t.page,l=t.per_page,d=t.slug,f=t.wardrobes,h={category_ids:n.categories,condition_ids:n.conditions,size_ids:n.sizes,provider_ids:n.locations,color_ids:n.colors,wardrobe_ids:f&&f.length>0?f.filter((function(e){return e.slug_name===d})).map((function(e){return e.id})):[]},m=Object.entries(h).reduce((function(e,t){var n=(0,i.Z)(t,2),c=n[0],s=n[1],o=s.length>0?(0,r.Z)({},c,s.join(",")):{};return p(p({},e),o)}),{}),x={per_page:l||20,page:s||"1",constraints:JSON.stringify(p(p({},m),{},{product_list:!0})),sort:c},e.abrupt("return",(0,a.h)("products?".concat(u.stringify(x)),void 0,"raw"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},76451:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(4942),i=n(11163),c=n(67294),s=n(955),o=n(21068),a=n(9723);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.categories,n=e.conditions,r=e.sizes,l=e.locations,d=e.colors,p=e.wardrobes,f=(0,c.useState)([]),h=f[0],m=f[1],x=(0,c.useState)(),g=x[0],b=x[1],v=(0,i.useRouter)(),j=(0,s.B)().mutate,y=(0,c.useState)({categories:[],conditions:[],sizes:[],locations:[],colors:[]}),N=y[0],w=y[1],k=(0,c.useState)({categories:[],conditions:[],sizes:[],locations:[],colors:[]}),_=k[0],C=k[1],O=function(e,t,n){return"sizes"===n?"clothing"===v.query.categories||"new-in"===v.query.categories||v.pathname.includes("/wardrobe")?t.map((function(t){var n;return(null===(n=e.filter((function(e){return e.name.toLowerCase()===t})))||void 0===n?void 0:n.map((function(e){return e.id})))||[]})).flat()||[]:t.map((function(t){var n;return(null===(n=e.find((function(e){var n;return e.name.toLowerCase()===t&&(null===(n=v.query.categories)||void 0===n?void 0:n.includes(e.type.toLowerCase()))})))||void 0===n?void 0:n.id)||""}))||[]:"clothing"===n&&1===t.length&&"clothing"===t[0]?e.filter((function(e){return"CLOTHING"===e.sizing_type})).map((function(e){return e.id}))||"":t.map((function(t){var n;return(null===(n=e.find((function(e){return e.name.toLowerCase()===t})))||void 0===n?void 0:n.id)||""}))||[]},q=function(e){return e?e.split(",").map((function(e){return e.toLowerCase()})).filter((function(e){return"new-in"!==e})):[]};return(0,c.useEffect)((function(){var e,i={categories:q(v.query.categories),conditions:q(v.query.conditions),sizes:q(v.query.sizes),colors:q(v.query.colors),locations:q(v.query.locations)};C(i);var c={categories:O(t,2===i.categories.length?i.categories.slice(1):i.categories,"clothing"),conditions:O(n,i.conditions),sizes:O(r,i.sizes,"sizes"),colors:O(d,i.colors),locations:O(l,i.locations)};w(c),null!==(e=v.query.search)&&void 0!==e&&e.length?(0,o.S)({search:v.query.search,categories:v.query.categories,conditions:v.query.conditions,sizes:v.query.sizes,colors:v.query.colors,locations:v.query.locations}).then((function(e){e instanceof Error||(m(e.data),b(e.pagination))})):j({searchAttributes:c,sort:v.query.sort,page:v.query.page,slug:v.query.slug,wardrobes:p},{onSuccess:function(e){var t=e.data,n=e.meta;m(t.map((function(e){return{id:e.id,name:e.name,size:e.size_name,price:e.base_currency_price,image:e.medium_image_path,wardrobes:e.wardrobes,is_sold:e.process_status_name!==a.xh.SELLING,brand:e.designer_name,condition:e.condition_name,material:e.material_name,color:e.color_name,currency:e.currency_code,ganni_love:e.ganni_love}}))),b(n.pagination)}})}),[v.query]),u(u({},N),{},{selected:_,products:h,pagination:g})}},61111:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return j}});var r=n(42982),i=n(9008),c=n(67294),s=n(25675),o=n(11163),a=n(147),l=n(3528),u=n(16453),d=n(98145),p=n(76451),f=n(29359),h=n(43753),m=n(45578),x=n.n(m),g=n(89734),b=n.n(g),v=n(85893),j=!0;t.default=function(e){var t=(0,o.useRouter)(),n=(0,c.useState)(!1),m=n[0],g=n[1],j=(0,c.useState)(),y=j[0],N=j[1],w=(0,c.useState)([]),k=w[0],_=w[1],C=(0,c.useState)(!1),O=C[0],q=C[1],S=t.query,z=S.category,P=S.search,Z=(0,c.useState)(["categories","sizes","locations"]),E=Z[0],A=Z[1],L=(0,p.c)(e),D=L.categories,G=L.conditions,R=L.sizes,F=L.locations,I=L.colors,T=L.products,B=L.pagination,H=L.selected;(0,c.useEffect)((function(){var t=[];if(D.length>0){var n=e.categories.filter((function(e){return D.includes(e.id)}));t=e.sizes.filter((function(e){return n.map((function(e){return e.name})).includes(e.type)}))}else t=b()(x()(e.sizes,"name"),["name"]);if(N(t),R.length>0){var r=e.sizes.filter((function(e){return R.includes(e.id)})),i=t.filter((function(e){return r.map((function(e){return e.name})).includes(e.name)})).map((function(e){return e.id}));_(i)}else _([])}),[D,R]);var W=function(){g(!m)},X=function(){q(!O)},J=function(e){t.query.sort=e,t.push(t)},M=function(){t.replace(t.pathname.replace("[category]",t.query.category),void 0,{shallow:!0})},U=function(e){return function(n){var r=(t.query[e]?(null===t||void 0===t?void 0:t.query[e]).split(","):[]).filter((function(e){return e!==n}));r.length?t.query[e]=r.join(","):delete t.query[e],t.push(t,{},{shallow:!0})}},V=function(e){E.includes(e)?A(E.filter((function(t){return t!==e}))):A([].concat((0,r.Z)(E),[e]))};(0,c.useEffect)((function(){if(T&&T.length>0){var e=T.map((function(e){return{product_id:e.id,product_name:e.name,product_brand:e.brand,product_price:e.price,product_condition:e.condition,product_size:e.size,product_color:e.color,product_quantity:1,list_position:1}}));(0,h.Vl)("view_item_list",{view_item_list:{items:e}})}}),[T]);var K=function(){return(0,v.jsxs)(c.Fragment,{children:[(0,v.jsx)(d.Z,{items:e.categories,selected:D,attributeName:"categories",listActive:E,onChangeStatus:V,children:"Category"}),y&&(0,v.jsx)(d.Z,{items:y,selected:k,attributeName:"sizes",listActive:E,onChangeStatus:V,children:"Size"}),(0,v.jsx)(d.Z,{items:e.locations,selected:F,attributeName:"locations",listActive:E,onChangeStatus:V,children:"Shipped From"}),(0,v.jsx)(d.Z,{items:e.conditions,selected:G,attributeName:"conditions",listActive:E,onChangeStatus:V,children:"Condition"}),(0,v.jsx)(d.Z,{items:e.colors,selected:I,attributeName:"colors",listActive:E,onChangeStatus:V,children:"Color"})]})},Q=function(){return(0,v.jsx)(c.Fragment,{children:(0,v.jsxs)("div",{className:"flex flex-wrap",children:[H.categories.map((function(e){return(0,v.jsx)(f.Z,{onClick:U("categories"),children:e},e)})),H.sizes.map((function(e){return(0,v.jsx)(f.Z,{onClick:U("sizes"),children:e},e)})),H.locations.map((function(e){return(0,v.jsx)(f.Z,{onClick:U("locations"),children:e},e)})),H.conditions.map((function(e){return(0,v.jsx)(f.Z,{onClick:U("conditions"),children:e},e)})),H.colors.map((function(e){return(0,v.jsx)(f.Z,{onClick:U("colors"),children:e},e)}))]})})},Y=function(){var e=t.query.categories,n=e?e.split(","):[],r="",i="";return"new-in"!==z&&(n[1]?(i=n[1],r="other"===n[1]?n[1]+" "+$(n[0]):n[1]):(r=n[0],i=n[0])),{title:"Shop ".concat("new-in"===z?"New in":""," Pre-loved GANNI ").concat("new-in"===z?$(r):r," on GANNIREPEAT"),description:"Extend the life of your wardrobe with GANNIREPEAT: A space to Buy and Sell Pre-loved GANNI ".concat($(i)," uploaded by our Community.")}},$=function(e){return e?"".concat(e.charAt(0).toUpperCase()+e.slice(1)):""};return(0,v.jsxs)("div",{children:[(0,v.jsxs)(i.default,{children:[(0,v.jsx)("title",{children:Y().title}),(0,v.jsx)("meta",{name:"description",content:Y().description}),(0,v.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,v.jsxs)("main",{children:[!P&&"new-in"===z&&(0,v.jsx)(u.Z,{description:"Shop the latest pre-loved styles uploaded by our GANNI REPEAT community",children:"New in"}),P&&(0,v.jsxs)("div",{className:"text-center text-dark py-6 font-helveticaNeue400 text-lg",children:[(0,v.jsx)("h1",{className:"",children:"Search results for"}),(0,v.jsx)("div",{className:"text-2xl uppercase font-helveticaNeue500",children:(0,v.jsxs)("p",{children:["\u201d",P,"\u201d"]})})]}),(0,v.jsxs)("div",{className:"listing-wrap py-8 md:p-12 flex transition-all ease-in",children:[(0,v.jsxs)("aside",{id:"toggle-filter",className:"w-full md:w-48 fixed top-0 left-0 md:relative z-9999 md:z-0 bg-white px-4 py-8 md:p-0 h-screen md:h-auto overflow-y-visible overflow-x-hidden md:overflow-y-auto hidden md:block",children:[(0,v.jsxs)("div",{className:"filter-single mb-4 lg:mb-8 flex justify-between items-center md:block",children:[(0,v.jsx)("h3",{className:"font-helveticaNeue500 text-dark uppercase text-2xl md:mb-4 lg:mb-8",children:"Filter By"}),(0,v.jsx)("button",{onClick:M,className:"font-helveticaNeue500 text-sm uppercase text-dark underline",children:"Clear All"})]}),K()]}),(0,v.jsxs)("div",{className:"flex flex-col mb-4 md:pl-12 w-full",children:[(0,v.jsx)("div",{className:"md:hidden block mb-[10px]",children:Q()}),(0,v.jsxs)("div",{className:"w-full product-actions justify-between flex items-baseline ".concat(O?"mb-5":"mb-16"),children:[(0,v.jsxs)("div",{className:"flex-1",onClick:X,children:[(0,v.jsxs)("div",{className:"flex md:hidden",children:[(0,v.jsx)("h3",{className:"font-helveticaNeue500 leading-none pt-2 pr-2 text-dark uppercase text-lg",children:"Filter By"}),(0,v.jsx)(s.default,{src:"/assets/images/filter.svg",alt:"",width:16,height:16})]}),(0,v.jsx)("div",{className:"hidden md:block",children:Q()})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("button",{onClick:M,className:"font-helveticaNeue500 text-sm uppercase text-dark ".concat(O?"block":"hidden"," md:hidden"),children:"Clear All"}),(0,v.jsx)("div",{className:"w-full ".concat(O?"hidden":"block"),children:(0,v.jsxs)("div",{className:"relative inline-flex align-middle w-full",children:[(0,v.jsx)("button",{id:"dropdown-toggler",className:"text-dark transition-all leading-none duration-150 bg-no-repeat bg-right-center md:bg-bottom-center bg-12 pt-2 pr-7 text-[14px] md:text-[16px] font-helveticaNeue500 uppercase ".concat(m?"bg-collapse-title":"bg-dropdown"),type:"button",onClick:W,children:"sort by"}),m&&(0,v.jsxs)("ul",{className:"bg-white absolute right-0 top-7 text-base float-left py-2 list-none text-right border border-grey z-9999",style:{minWidth:"fit-content"},id:"dropdown-sorting",children:[(0,v.jsx)("li",{className:"cursor-pointer pt-[6px] pb-[5px] px-[18px] font-normal block w-full whitespace-nowrap bg-transparent transition-all text-dark hover:text-pink uppercase ".concat("newest"===t.query.sort&&"text-pink"),onClick:function(){J("newest"),W()},children:(0,v.jsx)("a",{className:"currency-item font-helveticaNeue500 text-[14px]",children:"Newest"})}),(0,v.jsx)("li",{className:"cursor-pointer pt-[6px] pb-[5px] px-[18px] font-normal block w-full whitespace-nowrap bg-transparent transition-all text-dark hover:text-pink uppercase ".concat("price"===t.query.sort&&"text-pink"),onClick:function(){J("price"),W()},children:(0,v.jsx)("a",{className:"currency-item font-helveticaNeue500 text-[14px]",children:"Lowest Price"})}),(0,v.jsx)("li",{className:"cursor-pointer pt-[6px] pb-[5px] px-[18px] font-normal block w-full whitespace-nowrap bg-transparent transition-all text-dark hover:text-pink uppercase ".concat("-price"===t.query.sort&&"text-pink"),onClick:function(){J("-price"),W()},children:(0,v.jsx)("a",{className:"currency-item font-helveticaNeue500 text-[14px]",children:"Highest Price"})})]})]})})]})]}),(0,v.jsxs)("div",{className:"".concat(O?"block":"hidden"," md:hidden"),children:[K(),(0,v.jsx)("div",{className:"w-full px-2",children:(0,v.jsx)("div",{className:"mt-[18px] mb-10",children:(0,v.jsx)("button",{type:"submit",className:"text-center px-3 transition-all border border-dark inline-block  text-white bg-dark hover:border-dark hover:text-dark hover:bg-white w-full uppercase text-xs tracking-widest py-4",onClick:X,children:"view items"})})})]}),(0,v.jsx)("div",{className:"flex flex-wrap w-full",children:T.map((function(e){return(0,v.jsx)(l.Z,{id:e.id,name:e.name,price:e.price,image:e.image,size:e.size,ganniWardrobe:e.ganni_love,is_sold:e.is_sold,category:e.category,brand:e.brand,condition:e.condition,material:e.material,color:e.color,currency:e.currency,fromCategoryPage:!0},e.id)}))}),B&&(0,v.jsx)("div",{className:"pagination w-full flex justify-end mt-10",children:(0,v.jsx)(a.Z,{pageNumber:B.total_pages})})]})]})]})]})}},76095:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buy/[category]",function(){return n(61111)}])}},function(e){e.O(0,[2045,3528,9774,2888,179],(function(){return t=76095,e(e.s=t);var t}));var t=e.O();_N_E=t}]);