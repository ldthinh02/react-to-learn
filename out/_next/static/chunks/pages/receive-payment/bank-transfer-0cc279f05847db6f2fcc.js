(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5299],{73303:function(e,r,n){var t=n(67206),a=n(67762);e.exports=function(e,r){return e&&e.length?a(e,t(r,2)):0}},55995:function(e,r,n){"use strict";var t=n(67294),a=n(56727),d=n(25675),i=n(85893),s=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.filter(Boolean).join(" ")};r.Z=function(e){var r=e.name,n=e.label,c=e.data,o=e.onChange,l=e.classes,u=void 0===l?"":l,m=e.value,f=e.error,x=e.touched,h=e.require,v=e.classesCustomSelect,b=e.typeChar,p=(0,t.useState)(),N=p[0],$=p[1];return(0,t.useEffect)((function(){if(m&&c){var e=c.find((function(e){var r;return e.name===m||(null===(r=e.value)||void 0===r?void 0:r.toString())===m}));$(e)}}),[c,m]),(0,i.jsx)("div",{children:(0,i.jsx)(a.Ri,{value:N,onChange:function(e){$(e),null===o||void 0===o||o(e)},children:function(e){var o=e.open;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.Ri.Label,{className:"block text-[14px] uppercase",children:[n," ",h?"*":""]}),(0,i.jsxs)("div",{className:"relative ".concat(u),children:[(0,i.jsxs)(a.Ri.Button,{className:"h-[44px] w-full bg-white text-[14px] focus-none text-left border pt-[8px] pb-[6px] px-3 ".concat(N?b||"capitalize":"text-mgrey"," ").concat(f&&x?"!border-[#DA0714]":"border-mgrey"," ").concat(v),children:[(0,i.jsx)("span",{className:"block truncate pl-[1px] leading-1.25 ".concat(f&&x?"text-red":""),children:f&&x?"Required":N?N.name:"Select"}),(0,i.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,i.jsx)("div",{className:"h-5 w-5 transition-transform duration-300",children:o?(0,i.jsx)(d.default,{src:"/assets/images/angle-down.svg",alt:"",width:10,height:10}):(0,i.jsx)(d.default,{src:"/assets/images/angle-up.svg",alt:"",width:10,height:10})})})]}),(0,i.jsx)(a.uT,{show:o,as:t.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(a.Ri.Options,{className:"w-full max-h-60 font-helveticaNeue400 bg-white text-xs absolute border border-mgrey border-t-0 overflow-auto scrollbar-thin z-10 outline-0 focus:outline-0 z-50",children:c.map((function(e,n){return"Select"!==e.name&&(0,i.jsx)(a.Ri.Option,{className:function(e){var r=e.active;return s(r?"bg-gray-100":"","cursor-pointer select-none relative hover:bg-[#111111] hover:text-white")},value:{id:e.id?e.id:n,name:e.name,value:e.value,field:r},children:function(r){var n=r.selected;return(0,i.jsx)("span",{className:s(n?"font-medium bg-gray-100 py-2 px-3":"font-normal","py-2 px-3 block truncate",b||"capitalize"),children:e.name})}},n)}))})})]})]})}})})}},19262:function(e,r,n){"use strict";n.d(r,{R:function(){return d},O:function(){return i}});var t=n(46837),a=n(88767),d=function(){return(0,a.useQuery)("countries",(function(){return(0,t.h)("countries/list")}),{refetchOnWindowFocus:!1})},i=function(){return(0,a.useQuery)("all-countries",(function(){return(0,t.h)("countries")}),{refetchOnWindowFocus:!1})}},90214:function(e,r,n){"use strict";n.d(r,{h:function(){return d}});var t=n(46837),a=n(88767),d=function(e,r){return(0,a.useQuery)(["getMessageByConversation",e,r],(function(){return 0===e?null:(0,t.h)("products/get-product-by-order-product/".concat(e,"?type=").concat(r),{method:"get"})}))}},75443:function(e,r,n){"use strict";var t;n.d(r,{T:function(){return d}}),function(e){e.UK="UK",e.GB="GB",e.JE="JE",e.GG="GG",e.IM="IM",e.US="US",e.CA="CA",e.IE="IE",e.DE="DE",e.JP="JP",e.FR="FR",e.AU="AU",e.IT="IT",e.CH="CH",e.AT="AT",e.ES="ES",e.NL="NL",e.BE="BE",e.DK="DK",e.SE="SE",e.NO="NO",e.BR="BR",e.PT="PT",e.FI="FI",e.AX="AX",e.KR="KR",e.CN="CN",e.TW="TW",e.SG="SG",e.DZ="DZ",e.AD="AD",e.AR="AR",e.AM="AM",e.AZ="AZ",e.BH="BH",e.BD="BD",e.BB="BB",e.BY="BY",e.BM="BM",e.BA="BA",e.IO="IO",e.BN="BN",e.BG="BG",e.KH="KH",e.CV="CV",e.CL="CL",e.CR="CR",e.HR="HR",e.CY="CY",e.CZ="CZ",e.DO="DO",e.EC="EC",e.EG="EG",e.EE="EE",e.FO="FO",e.GE="GE",e.GR="GR",e.GL="GL",e.GT="GT",e.HT="HT",e.HN="HN",e.HU="HU",e.IS="IS",e.IN="IN",e.ID="ID",e.IL="IL",e.JO="JO",e.KZ="KZ",e.KE="KE",e.KW="KW",e.LA="LA",e.LV="LV",e.LB="LB",e.LI="LI",e.LT="LT",e.LU="LU",e.MK="MK",e.MY="MY",e.MV="MV",e.MT="MT",e.MU="MU",e.MX="MX",e.MD="MD",e.MC="MC",e.MA="MA",e.NP="NP",e.NZ="NZ",e.NI="NI",e.NG="NG",e.OM="OM",e.PK="PK",e.PY="PY",e.PH="PH",e.PL="PL",e.PR="PR",e.RO="RO",e.RU="RU",e.SM="SM",e.SA="SA",e.SN="SN",e.SK="SK",e.SI="SI",e.ZA="ZA",e.LK="LK",e.TJ="TJ",e.TH="TH",e.TN="TN",e.TR="TR",e.TM="TM",e.UA="UA",e.UY="UY",e.UZ="UZ",e.VA="VA",e.VE="VE",e.ZM="ZM",e.AS="AS",e.CC="CC",e.CK="CK",e.RS="RS",e.ME="ME",e.CS="CS",e.YU="YU",e.CX="CX",e.ET="ET",e.FK="FK",e.NF="NF",e.FM="FM",e.GF="GF",e.GN="GN",e.GP="GP",e.GS="GS",e.GU="GU",e.GW="GW",e.HM="HM",e.IQ="IQ",e.KG="KG",e.LR="LR",e.LS="LS",e.MG="MG",e.MH="MH",e.MN="MN",e.MP="MP",e.MQ="MQ",e.NC="NC",e.NE="NE",e.VI="VI",e.PF="PF",e.PG="PG",e.PM="PM",e.PN="PN",e.PW="PW",e.RE="RE",e.SH="SH",e.SJ="SJ",e.SO="SO",e.SZ="SZ",e.TC="TC",e.WF="WF",e.XK="XK",e.YT="YT",e.INTL="INTL"}(t||(t={}));const a=new Map([[t.UK,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[t.GB,/^([A-Z]){1}([0-9][0-9]|[0-9]|[A-Z][0-9][A-Z]|[A-Z][0-9][0-9]|[A-Z][0-9]|[0-9][A-Z]){1}([ ])?([0-9][A-z][A-z]){1}$/i],[t.JE,/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[t.GG,/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[t.IM,/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/],[t.US,/^([0-9]{5})(?:-([0-9]{4}))?$/],[t.CA,/^([ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ])\s*([0-9][ABCEGHJKLMNPRSTVWXYZ][0-9])$/i],[t.IE,/^([AC-FHKNPRTV-Y][0-9]{2}|D6W)[ -]?[0-9AC-FHKNPRTV-Y]{4}$/],[t.DE,/^\d{5}$/],[t.JP,/^\d{3}-\d{4}$/],[t.FR,/^\d{2}[ ]?\d{3}$/],[t.AU,/^\d{4}$/],[t.IT,/^\d{5}$/],[t.CH,/^\d{4}$/],[t.AT,/^(?!0)\d{4}$/],[t.ES,/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/],[t.NL,/^\d{4}[ ]?[A-Z]{2}$/],[t.BE,/^\d{4}$/],[t.DK,/^\d{4}$/],[t.SE,/^(SE-)?\d{3}[ ]?\d{2}$/],[t.NO,/^\d{4}$/],[t.BR,/^\d{5}[\-]?\d{3}$/],[t.PT,/^\d{4}([\-]\d{3})?$/],[t.FI,/^(FI-|AX-)?\d{5}$/],[t.AX,/^22\d{3}$/],[t.KR,/^\d{5}$/],[t.CN,/^\d{6}$/],[t.TW,/^\d{3}(\d{2})?$/],[t.SG,/^\d{6}$/],[t.DZ,/^\d{5}$/],[t.AD,/^AD\d{3}$/],[t.AR,/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/],[t.AM,/^(37)?\d{4}$/],[t.AZ,/^\d{4}$/],[t.BH,/^((1[0-2]|[2-9])\d{2})?$/],[t.BD,/^\d{4}$/],[t.BB,/^(BB\d{5})?$/],[t.BY,/^\d{6}$/],[t.BM,/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/],[t.BA,/^\d{5}$/],[t.IO,/^BBND 1ZZ$/],[t.BN,/^[A-Z]{2}[ ]?\d{4}$/],[t.BG,/^\d{4}$/],[t.KH,/^\d{5}$/],[t.CV,/^\d{4}$/],[t.CL,/^\d{7}$/],[t.CR,/^(\d{4,5}|\d{3}-\d{4})$/],[t.HR,/^(HR-)?\d{5}$/],[t.CY,/^\d{4}$/],[t.CZ,/^\d{3}[ ]?\d{2}$/],[t.DO,/^\d{5}$/],[t.EC,/^([A-Z]\d{4}[A-Z]|(?:[A-Z]{2})?\d{6})?$/],[t.EG,/^\d{5}$/],[t.EE,/^\d{5}$/],[t.FO,/^\d{3}$/],[t.GE,/^\d{4}$/],[t.GR,/^\d{3}[ ]?\d{2}$/],[t.GL,/^39\d{2}$/],[t.GT,/^\d{5}$/],[t.HT,/^\d{4}$/],[t.HN,/^(?:\d{5})?$/],[t.HU,/^\d{4}$/],[t.IS,/^\d{3}$/],[t.IN,/^\d{6}$/],[t.ID,/^\d{5}$/],[t.IL,/^\d{5,7}$/],[t.JO,/^\d{5}$/],[t.KZ,/^\d{6}$/],[t.KE,/^\d{5}$/],[t.KW,/^\d{5}$/],[t.LA,/^\d{5}$/],[t.LV,/^(LV-)?\d{4}$/],[t.LB,/^(\d{4}([ ]?\d{4})?)?$/],[t.LI,/^(948[5-9])|(949[0-7])$/],[t.LT,/^(LT-)?\d{5}$/],[t.LU,/^(L-)?\d{4}$/],[t.MK,/^\d{4}$/],[t.MY,/^\d{5}$/],[t.MV,/^\d{5}$/],[t.MT,/^[A-Z]{3}[ ]?\d{2,4}$/],[t.MU,/^((\d|[A-Z])\d{4})?$/],[t.MX,/^\d{5}$/],[t.MD,/^\d{4}$/],[t.MC,/^980\d{2}$/],[t.MA,/^\d{5}$/],[t.NP,/^\d{5}$/],[t.NZ,/^\d{4}$/],[t.NI,/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/],[t.NG,/^(\d{6})?$/],[t.OM,/^(PC )?\d{3}$/],[t.PK,/^\d{5}$/],[t.PY,/^\d{4}$/],[t.PH,/^\d{4}$/],[t.PL,/^\d{2}-\d{3}$/],[t.PR,/^00[679]\d{2}([ \-]\d{4})?$/],[t.RO,/^\d{6}$/],[t.RU,/^\d{6}$/],[t.SM,/^4789\d$/],[t.SA,/^\d{5}$/],[t.SN,/^\d{5}$/],[t.SK,/^\d{3}[ ]?\d{2}$/],[t.SI,/^(SI-)?\d{4}$/],[t.ZA,/^\d{4}$/],[t.LK,/^\d{5}$/],[t.TJ,/^\d{6}$/],[t.TH,/^\d{5}$/],[t.TN,/^\d{4}$/],[t.TR,/^\d{5}$/],[t.TM,/^\d{6}$/],[t.UA,/^\d{5}$/],[t.UY,/^\d{5}$/],[t.UZ,/^\d{6}$/],[t.VA,/^00120$/],[t.VE,/^\d{4}$/],[t.ZM,/^\d{5}$/],[t.AS,/^96799$/],[t.CC,/^6799$/],[t.CK,/^\d{4}$/],[t.RS,/^\d{5,6}$/],[t.ME,/^8\d{4}$/],[t.CS,/^\d{5}$/],[t.YU,/^\d{5}$/],[t.CX,/^6798$/],[t.ET,/^\d{4}$/],[t.FK,/^FIQQ 1ZZ$/],[t.NF,/^2899$/],[t.FM,/^(9694[1-4])([ \-]\d{4})?$/],[t.GF,/^9[78]3\d{2}$/],[t.GN,/^\d{3}$/],[t.GP,/^9[78][01]\d{2}$/],[t.GS,/^SIQQ 1ZZ$/],[t.GU,/^969[123]\d([ \-]\d{4})?$/],[t.GW,/^\d{4}$/],[t.HM,/^\d{4}$/],[t.IQ,/^\d{5}$/],[t.KG,/^\d{6}$/],[t.LR,/^\d{4}$/],[t.LS,/^\d{3}$/],[t.MG,/^\d{3}$/],[t.MH,/^969[67]\d([ \-]\d{4})?$/],[t.MN,/^\d{6}$/],[t.MP,/^9695[012]([ \-]\d{4})?$/],[t.MQ,/^9[78]2\d{2}$/],[t.NC,/^988\d{2}$/],[t.NE,/^\d{4}$/],[t.VI,/^008(([0-4]\d)|(5[01]))([ \-]\d{4})?$/],[t.PF,/^987\d{2}$/],[t.PG,/^\d{3}$/],[t.PM,/^9[78]5\d{2}$/],[t.PN,/^PCRN 1ZZ$/],[t.PW,/^96940$/],[t.RE,/^9[78]4\d{2}$/],[t.SH,/^(ASCN|STHL) 1ZZ$/],[t.SJ,/^\d{4}$/],[t.SO,/^\d{5}$/],[t.SZ,/^[HLMS]\d{3}$/],[t.TC,/^TKCA 1ZZ$/],[t.WF,/^986\d{2}$/],[t.XK,/^\d{5}$/],[t.YT,/^976\d{2}$/],[t.INTL,/^(?:[A-Z0-9]+([- ]?[A-Z0-9]+)*)?$/i]]);var d=function(e){return r=e.country,!a.has(r)||((e,r)=>{if(!a.has(r))throw Error(`Invalid country code: ${r}`);return a.get(r).test(e)})(e.zipcode,e.country);var r}},84175:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return S}});var t=n(15861),a=n(87757),d=n.n(a),i=n(67294),s=n(9008),c=n(25675),o=n(55995),l=n(94649),u=n(11163),m=n(90214),f=n(73534),x=n(19262),h=n(75443),v=n(22283),b=n(27335),p=n(22887),N=n(46837),$=n(88767),g=n(85893),y=function(e){var r=e.error,n=e.toggleCheckCurrencyPaymentModal,t=e.active,a=e.continuePayment;return(0,g.jsx)("div",{className:"overflow-x-hidden overflow-y-auto fixed inset-0 z-99999 h-screen outline-none focus:outline-none justify-center c-modal bg-dark bg-opacity-75 ".concat(t?"":"hidden"),children:(0,g.jsx)("div",{className:"relative my-6 mx-auto w-11/12 md:w-540",children:(0,g.jsxs)("div",{className:"border-0  relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,g.jsx)("div",{className:"flex items-start justify-end px-4 py-4",children:(0,g.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:n,children:(0,g.jsx)("span",{className:"bg-transparent text-black text-2xl block outline-none focus:outline-none relative w-[20px] h-[20px]",children:(0,g.jsx)(c.default,{src:"/assets/images/close.svg",alt:"",layout:"fill"})})})}),(0,g.jsx)("div",{className:"relative flex-auto pb-16 px-6 md:px-9",children:(0,g.jsxs)("div",{className:"text-center text-sm",children:[(0,g.jsx)("h3",{className:"font-helveticaNeue500 text-2xl uppercase mb-4 text-center",children:"The currency of your listing and your bank account do not match"}),(0,g.jsxs)("p",{children:["You selected the currency of ",null===r||void 0===r?void 0:r.currency_1," for your listing. However, you selected the currency ",null===r||void 0===r?void 0:r.currency_2," ","for your bank account. ",(0,g.jsx)("br",{}),"Please modify the currency of your bank details. If you don\u2019t have a bank account in the matching currency, your bank may charge you a conversion fee when receiving your payment."]}),(0,g.jsxs)("div",{className:"flex flex-wrap -mx-2 mt-[48px]",children:[(0,g.jsx)("div",{className:"w-full px-2 mb-3",children:(0,g.jsx)("div",{children:(0,g.jsx)("button",{type:"submit",className:"text-center px-3 transition-all border border-dark inline-block  text-white bg-dark hover:border-dark hover:text-dark hover:bg-white w-full uppercase text-xs tracking-widest py-4",onClick:n,children:"Edit bank details"})})}),(0,g.jsx)("div",{className:"w-full px-2",children:(0,g.jsx)("div",{children:(0,g.jsx)("button",{type:"submit",className:"text-center px-3 transition-all border border-dark inline-block  text-dark bg-white hover:border-white hover:text-white hover:bg-dark w-full uppercase text-xs tracking-widest py-4",onClick:a,children:"Continue with currency"})})})]})]})})]})})})},j=n(87517),C=n(97e3),w=n(9723),k=n(88615),S=function(){var e,r=(0,u.useRouter)(),n=r.query,a=n.order_product,S=n.token,A=n.seller_email,M=(0,i.useState)([]),E=M[0],Z=M[1],T=(0,i.useState)(null),_=T[0],P=T[1],R=(0,i.useState)([]),G=R[0],L=R[1],I=(0,j.u)().browserCurrency,K=(0,i.useState)(!0),B=K[0],D=K[1],F=(0,i.useState)(!1),H=F[0],U=F[1],O=(0,i.useState)(!1),V=O[0],Y=O[1],J=(0,i.useState)(),z=J[0],W=J[1],X=(0,x.R)().data,Q=(0,i.useState)(),q=Q[0],ee=Q[1];(0,i.useEffect)((function(){X&&L(X.map((function(e){return{name:e.name,value:e.alpha2Code}})))}),[X]);var re=(0,i.useState)(""),ne=re[0],te=re[1],ae=(0,$.useMutation)((function(e){return(0,N.h)("users/".concat(Number(e.id),"/payment-detail"),{method:"POST",body:JSON.stringify(e)})}),{}),de=ae.mutateAsync,ie=ae.error,se=ae.isError,ce=ae.isLoading,oe=(0,$.useMutation)((function(e){return(0,N.h)("users/create-bank-transfer",{method:"POST",body:JSON.stringify(e)})})),le=oe.mutate,ue=oe.error,me=oe.isError,fe=oe.isLoading,xe=(0,l.TA)({initialValues:{name:"",address:"",city:"",zipcode:"",country:"",bank_name:"",account_number:"",sort_code:""},validationSchema:v.Zj,onSubmit:function(){var e=(0,t.Z)(d().mark((function e(r){var n,t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!0),(0,h.T)({country:r.country,zipcode:r.zipcode})){e.next=6;break}return te("Invalid Postal Code"),U(!1),e.abrupt("return");case 6:if(a){e.next=8;break}return e.abrupt("return");case 8:if(t=null===(n=I.currencies)||void 0===n?void 0:n.find((function(e){return e.country===r.country})),(null===be||void 0===be?void 0:be.data.currency).code===(null===t||void 0===t?void 0:t.code)){e.next=13;break}return W({currency_1:(null===be||void 0===be?void 0:be.data.currency).code,currency_2:(null===t||void 0===t?void 0:t.code)||""}),Y(!0),e.abrupt("return");case 13:return e.next=15,de({data:r,id:String(null===pe||void 0===pe?void 0:pe.id),not_save_as_default:null,payment_method_id:1});case 15:return e.next=17,ve(!1);case 17:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}),he=function(){var e=(0,t.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(!1),U(!0),a){e.next=4;break}return e.abrupt("return");case 4:if(e.t0=!_,!e.t0){e.next=8;break}return e.next=8,de({data:xe.values,id:String(null===pe||void 0===pe?void 0:pe.id),not_save_as_default:null,payment_method_id:1});case 8:return e.next=10,ve(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,t.Z)(d().mark((function e(n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!0),!n||(null===be||void 0===be?void 0:be.data.currency).code===(null===_||void 0===_?void 0:_.data.currency_code)){e.next=5;break}return W({currency_1:(null===be||void 0===be?void 0:be.data.currency).code,currency_2:(null===_||void 0===_?void 0:_.data.currency_code)||""}),Y(!0),e.abrupt("return");case 5:le({order_product_id:String(a)},{onSuccess:function(){r.push("/receive-payment/bank-confirmed")},onError:function(e){U(!1),e instanceof Error&&(["Exception: Verification document is required.","Exception: Verification document is not verified.","Exception: Verification document is pending."].includes(e.message)&&(e.message="You need verify ID to receive money. Redirecting to verify ID page...",setTimeout((function(){r.push("/verify-id?from=bank-transfer")}),2e3)),"Exception: Not found!"===e.message&&r.push("/receive-payment/bank-confirmed"))}});case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),be=(0,m.h)(a?Number(a):0,"").data,pe=(0,f.e)().data;(0,i.useEffect)((function(){if(pe){var e=pe.customer.data.payment_details.data;if(e.length>0){Z(e),D(!1);var r=e.find((function(e){return e.is_primary}))||e[0];P(r)}else D(!0)}}),[pe]);var Ne,$e=function(){r.push({pathname:"/receive-payment",query:{token:S,order_product:a,seller_email:A}})};return(0,g.jsxs)("div",{children:[(0,g.jsxs)(s.default,{children:[(0,g.jsx)("title",{children:"GanniRepeat - Bank Transfer"}),(0,g.jsx)("meta",{name:"description",content:"GanniRepeat - Bank Transfer"}),(0,g.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),be&&be.data&&(0,g.jsxs)("div",{className:"flex flex-wrap bg-grey",children:[(0,g.jsx)("div",{className:"py-6 lg:py-12 px-6 lg:px-20 w-full lg:w-480",children:(0,g.jsxs)("div",{className:"w-full md:w-300 m-auto",children:[(0,g.jsx)("h2",{className:"font-helveticaNeue500 text-xl uppercase mb-6",children:"Your payout"}),(0,g.jsx)("div",{className:"bg-white",children:(0,g.jsxs)("div",{className:"product-popup flex w-full text-left py-4 px-2",children:[(0,g.jsx)("div",{className:"thumb w-100",children:(0,g.jsx)(c.default,{loader:C.k,className:"w-full",src:be.data.main_image.relative_path,alt:"",width:"100%",height:"100%",objectFit:"cover"})}),(0,g.jsxs)("div",{className:"info flex-1 text-sm pl-4",children:[(0,g.jsx)("h3",{className:"font-helveticaNeue500 uppercase mb-1",children:be.data.name}),(null===(e=be.data)||void 0===e?void 0:e.size)&&(0,g.jsxs)("p",{className:"mb-2",children:["SIZE: ",be.data.size.name]}),(0,g.jsxs)("p",{className:"text-green",children:["Cash payment value:"," ",be.data.currency.symbol,(Ne=be.data.currency.code,be?["DKK","NOK","SEK"].includes(Ne)?Math.round(be.data.calculated_payout_amount):Math.ceil(2*be.data.calculated_payout_amount)/2:null)," "]})]})]})})]})}),(0,g.jsxs)("div",{className:"bg-white py-6 lg:py-12 px-6 lg:px-20 w-full lg:w-auto lg:flex-1",children:[(0,g.jsx)("h2",{className:"font-helveticaNeue500 text-2xl uppercase mb-6 md:mb-8",children:"Confirm your bank account"}),(0,g.jsx)("div",{className:"text-sm",children:(0,g.jsx)("p",{children:"You have chosen to be paid in cash. Please confirm your bank details below."})}),E.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("hr",{className:"border-t-grey my-8"}),(0,g.jsx)("div",{className:"flex flex-wrap",children:E&&E.length>0&&E.map((function(e,r){return(0,g.jsxs)("div",{className:"w-full md:w-2/4",children:[(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsxs)("label",{className:"custom-radio cursor-pointer block",children:[(0,g.jsx)("input",{type:"radio",className:"hidden",name:"bank",checked:!(e.id!==(null===_||void 0===_?void 0:_.id)),onChange:function(){return function(e){P(e),D(!1)}(e)}}),(0,g.jsx)("span",{className:"relative block pl-8 before:absolute before:top-px before:left-0 before:bg-white before:border before:border-dark before:block before:w-[20px] before:h-[20px] before:rounded-full after:absolute after:top-[7px] after:left-[6px] after:hidden after:w-[8px] after:h-[8px] after:rounded-full after:bg-white",children:"Use this bank account"})]})}),(0,g.jsxs)("address",{className:"font-helveticaNeue400 text-sm not-italic mb-4",children:[e.data.beneficiary_name," ",(0,g.jsx)("br",{}),e.data.bank_name," ",(0,g.jsx)("br",{}),e.data.account_number]})]},r)}))})]}),E.length>0&&!B&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("hr",{className:"border-t-grey my-8"}),(0,g.jsx)("a",{onClick:function(){D(!0),P(null)},className:"font-helveticaNeue500 uppercase text-sm underline cursor-pointer mb-6 inline-block",children:"Add new bank account"}),ne&&!H&&(0,g.jsx)(p.Z,{message:ne}),se&&(0,g.jsx)(p.Z,{message:ie.message}),me&&(0,g.jsx)(p.Z,{message:ue.message}),(0,g.jsxs)("div",{className:"flex flex-wrap -mx-2",children:[(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)("button",{disabled:ce||fe,onClick:$e,className:"font-helveticaNeue500 text-center px-3 transition-all -tracking-widerborder border border-dark  text-dark hover:border-dark hover:text-white hover:bg-dark py-4 text-xs block w-full uppercase tracking-widest",children:"Back"})})}),(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)("button",{disabled:ce||fe,onClick:function(){return ve(!0)},className:"font-helveticaNeue500 text-center px-3 transition-all border border-dark text-white bg-dark hover:border-dark hover:text-dark hover:bg-white py-4 text-xs block w-full uppercase tracking-widest",children:ce||fe?"loading...":"Confirm"})})})]})]}),B&&(0,g.jsxs)("form",{onSubmit:xe.handleSubmit,children:[(0,g.jsx)("hr",{className:"border-t-grey my-8"}),(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"name",label:"Account holder name",onChange:xe.handleChange,value:xe.values.name,errorMessage:xe.errors.name&&xe.touched.name?xe.errors.name:""})}),(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"address",label:"Address",onChange:xe.handleChange,value:xe.values.address,errorMessage:xe.errors.address&&xe.touched.address?xe.errors.address:""})}),(0,g.jsxs)("div",{className:"flex flex-wrap -mx-2",children:[(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"city",label:"town or city",onChange:xe.handleChange,value:xe.values.city,errorMessage:xe.errors.city&&xe.touched.city?xe.errors.city:""})})}),(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"zipcode",label:"Postal Code",onChange:xe.handleChange,value:xe.values.zipcode,errorMessage:xe.errors.zipcode&&xe.touched.zipcode?xe.errors.zipcode:""})})})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("label",{className:"label font-helveticaNeue500 text-xs text-dark mb-1 block uppercase",children:"Country"}),G&&(0,g.jsx)(o.Z,{data:G,name:"country",error:xe.errors.country,touched:xe.touched.country,errorMessage:xe.errors.country&&xe.touched.country?xe.errors.country:"",onChange:function(e){"country"===e.field&&ee(w.r1.find((function(r){return r.country===String(e.value)}))),xe.setFieldValue("".concat(e.field),e.value)},classesCustomSelect:"font-helveticaNeue400 border !border-mgrey h-[48px] outline-0 w-full text-sm px-4 text-dark rounded-none"})]}),q&&(0,g.jsxs)("div",{className:"flex flex-wrap -mx-2",children:[q.title_2&&(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"bank_name",label:q.title_2.label,placeholder:(0,k.Pg)(q.title_2.digit,"x","default"),onChange:xe.handleChange,value:xe.values.bank_name,errorMessage:xe.errors.bank_name&&xe.touched.bank_name?xe.errors.bank_name:"",maxValue:q.title_2.digit})})}),(0,g.jsx)("div",{className:"w-full px-2 ".concat(q.title_2?"md:w-2/4":""),children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"account_number",label:q.title_1.label,onChange:xe.handleChange,value:xe.values.account_number,placeholder:(0,k.Pg)(q.title_1.digit,"x","default"),errorMessage:xe.errors.account_number&&xe.touched.account_number?xe.errors.account_number:"",maxValue:q.title_1.digit})})}),"GB"===q.country&&(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)(b.Z,{name:"sort_code",label:"Sort code",onChange:xe.handleChange,value:xe.values.sort_code})})})]}),ne&&!H&&(0,g.jsx)(p.Z,{message:ne}),se&&(0,g.jsx)(p.Z,{message:ie.message}),me&&(0,g.jsx)(p.Z,{message:ue.message}),(0,g.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-6",children:[(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)("button",{disabled:ce||fe,onClick:$e,className:"font-helveticaNeue500 text-center px-3 transition-all -tracking-widerborder border border-dark  text-dark hover:border-dark hover:text-white hover:bg-dark py-4 text-xs block w-full uppercase tracking-widest",children:"Back"})})}),(0,g.jsx)("div",{className:"w-full md:w-2/4 px-2",children:(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsx)("button",{disabled:ce||fe,type:"submit",className:"font-helveticaNeue500 text-center px-3 transition-all border border-dark text-white bg-dark hover:border-dark hover:text-dark hover:bg-white py-4 text-xs block w-full uppercase tracking-widest",children:ce||fe?"loading...":"Confirm"})})})]})]})]})]}),(0,g.jsx)(y,{error:z,toggleCheckCurrencyPaymentModal:function(){return Y(!V)},active:V,continuePayment:he})]})}},88615:function(e,r,n){"use strict";n.d(r,{pD:function(){return i},NM:function(){return s},RL:function(){return c},SX:function(){return o},dI:function(){return l},Mi:function(){return u},FA:function(){return m},JT:function(){return f},Pg:function(){return x},SK:function(){return h},D0:function(){return v}});n(87757);var t=n(9723),a=(n(46837),n(73303)),d=n.n(a),i=function(e,r){var n=r.find((function(r){return r.alpha2Code===e}));return null===n||void 0===n?void 0:n.name},s=function(e,r){return!r||"DKK"!==r.code&&"SEK"!==r.code&&"NOK"!==r.code?Math.ceil(2*e)/2:Math.round(e)},c=function(e){switch(e){case t.i_.SOLD:return"sold";case t.i_.CANCELLED:return"cancelled";case t.i_.RETURNED:return"returned";default:return"sold confirmed"}},o=function(e){return e.filter((function(e){return["SOLD_CONFIRMED","CANCELLED","RETURNED","PAYMENT_SENT"].includes(e.status)})).length===e.length?t.DF.COMPLETED:t.DF.PROCESSING},l=function(e){return e.tracking_number?e.status===t.Tb.TRACKED?t.Tb.TRACKED:e.status===t.Tb.DELIVERED?t.Tb.DELIVERED:t.Tb.SHIPPED:t.Tb.PENDING},u=function(e,r,n){var t,a,d=null===(t=n.currencies)||void 0===t?void 0:t.find((function(e){return e.code===r||e.symbol===r||e.id===Number(r)})),i=null===(a=n.currencies)||void 0===a?void 0:a.find((function(e){return"EUR"===e.code}));return d&&i?d.code===i.code?Number(e.toFixed(2)):Number((e/(d.rate||1)).toFixed(2)):Number(e.toFixed(2))},m=function(e,r,n){var t,a,d=null===(t=n.currencies)||void 0===t?void 0:t.find((function(e){return e.code===r||e.symbol===r||e.id===Number(r)})),i=null===(a=n.currencies)||void 0===a?void 0:a.find((function(e){return"EUR"===e.code}));return d&&i?d.code===i.code?Number(e.toFixed(2)):Number((e*(d.rate||1)).toFixed(2)):Number(e.toFixed(2))},f=function(e,r,n,t){var a,d,i=null===(a=t.currencies)||void 0===a?void 0:a.find((function(e){return e.code===r||e.symbol===r||e.id===Number(r)})),s=null===(d=t.currencies)||void 0===d?void 0:d.find((function(e){return e.code===n||e.symbol===n||e.id===Number(n)}));return i&&s?i.code===s.code?Number(e.toFixed(2)):Number((e*((s.rate||1)/(i.rate||1))).toFixed(2)):Number(e.toFixed(2))},x=function(e,r,n){for(var t=[],a=0;a<e;a++)t.push(r);return t.join("default"===n?"":n||" / ")},h=function(e){return d()(e,(function(e){return e.tax_fee}))},v=function(e){if(!e)return{isValid:!1,message:""};if(e.size<1024)return{isValid:!1,message:"Minimum supported file size is 1kb"};if(e.size>1e7)return{isValid:!1,message:"Maximum supported file size is 10mb"};var r=e.type.split("/"),n=["jpeg","jpg","png"];return r[1]&&n.includes(r[1])?{isValid:!0,message:""}:{isValid:!1,message:"Supported file types are ".concat(n.join(", "))}}},9299:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/receive-payment/bank-transfer",function(){return n(84175)}])}},function(e){e.O(0,[9774,2888,179],(function(){return r=9299,e(e.s=r);var r}));var r=e.O();_N_E=r}]);