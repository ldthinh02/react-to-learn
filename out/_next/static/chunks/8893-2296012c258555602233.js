(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8893],{73303:function(e,t,r){var n=r(67206),i=r(67762);e.exports=function(e,t){return e&&e.length?i(e,n(t,2)):0}},98893:function(e,t,r){"use strict";r.d(t,{O:function(){return f}});var n=r(67294),i=r(25675),s=r(3732),c=r(38539),o=r(27335),a=r(94649),l=r(77256),u=r(97e3),d=r(85893);function p(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,s=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw s}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.showMobileViewOrder,r=e.toggleMobileViewOrder,m=(0,n.useState)([]),f=m[0],h=m[1],x=(0,s.jD)((function(e){return e.cart})),b=(0,c.$r)().refetch;(0,n.useMemo)((function(){if(x&&x.products&&x.products.data&&x.products.data.length>0){var e,t=[],r=new Set,n=p(x.products.data);try{var i=function(){var n=e.value;if(r.has(n.seller_id)){var i=t.find((function(e){return e.seller_id===n.seller_id}));null===i||void 0===i||i.products.push(n)}else{var s;t.push({seller_id:n.seller_id,products:[n],city:null===(s=n.seller_info)||void 0===s?void 0:s.city}),r.add(n.seller_id)}};for(n.s();!(e=n.n()).done;)i()}catch(s){n.e(s)}finally{n.f()}h(t)}}),[x]);var v=(0,c.U7)(),N=v.mutate,g=v.isSuccess,j=v.isError,y=(0,a.TA)({enableReinitialize:!0,initialValues:{code:""},onSubmit:function(e){N({code:e.code},{onSuccess:function(){b()}})}});return(0,d.jsx)("div",{className:"lg:py-12 px-6 lg:px-12 w-full lg:w-480",children:(0,d.jsx)("div",{className:"w-full m-auto flex flex-col",children:x?(0,d.jsxs)("div",{className:"aside-nav-wrap -mx-6 lg:mx-0 mb-8 lg:mb-0",children:[(0,d.jsx)("div",{className:"account-nav-toggle-mobile bg-green text-white lg:hidden",children:(0,d.jsxs)("a",{className:"font-helveticaNeue500 uppercase text-white py-4 px-6 block relative before:absolute before:top-2/4 before:right-4 before:-translate-y-2/4 before:w-4 before:h-4 before:bg-100% cursor-pointer ".concat(t?"before:bg-close":"before:bg-plus"),onClick:r,children:["View order (\xa3",x.total,")"]})}),(0,d.jsxs)("div",{id:"checkout-cart",className:"inner bg-lightGrey lg:block px-6 lg:px-0 pt-6 lg:pt-0 ".concat(t?"":"hidden"),children:[(0,d.jsx)("h3",{className:"font-helveticaNeue400 text-lg mb-6 md:mb-8",children:"Order summary"}),(0,d.jsxs)("table",{className:"table w-full summary-table mb-8",children:[(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"text-sm p-1 pl-0",children:"Order value"}),(0,d.jsx)("td",{className:"text-sm p-1 pr-0 text-right",children:(0,d.jsx)(l.Z,{price:Number(x.sub_total)})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"text-sm p-1 pl-0",children:"Shipping"}),(0,d.jsx)("td",{className:"text-sm p-1 pr-0 text-right",children:(0,d.jsx)(l.Z,{price:Number(x.shipping_rate)})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"text-sm p-1 pl-0 ".concat(x.coupon&&x.coupon.data.code&&(x.products_discount||x.shipping_discount)?"":"pb-8"),children:"Tax"}),(0,d.jsx)("td",{className:"text-sm p-1 pr-0 text-right ".concat(x.coupon&&x.coupon.data.code&&(x.products_discount||x.shipping_discount)?"":"pb-8"),children:(0,d.jsx)(l.Z,{price:Number(x.tax_total)})})]}),x.coupon&&x.coupon.data.code&&(x.products_discount||x.shipping_discount)?(0,d.jsxs)("tr",{className:"text-shocking_pink",children:[(0,d.jsxs)("td",{className:"text-sm p-1 pl-0 pb-8",children:["Promocode ",x.coupon.data.code]}),(0,d.jsxs)("td",{className:"text-sm p-1 pr-0 pb-8 text-right",children:["-\xa3",x.products_discount||0+(x.shipping_discount||0)]})]}):""]}),(0,d.jsx)("tfoot",{className:"border-t border-t-grey",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"font-helveticaNeue500 text-sm p-1 pl-0 pt-8",children:"TOTAL"}),(0,d.jsx)("td",{className:"font-helveticaNeue500 text-sm p-1 pr-0 text-right pt-8",children:(0,d.jsx)(l.Z,{price:Number(x.total)})})]})})]}),(0,d.jsxs)("div",{className:"border border-pink p-4 flex items-center mb-6 lg:mb-8",children:[(0,d.jsx)("div",{className:"w-6",children:(0,d.jsx)(i.default,{src:"/assets/images/Info.svg",alt:"",width:"100%",height:"100%"})}),(0,d.jsx)("div",{className:"pl-4 text-sm flex-1",children:(0,d.jsx)("p",{children:"The final shipping costs are calculated based on your delivery location and local sales taxes. However, the shipping costs exclude all relevant import duties and customs fees. As the recipient, you will need to pay for these duties and fees upon request by your Local Customs."})})]}),(0,d.jsxs)("form",{onSubmit:y.handleSubmit,children:[(0,d.jsxs)("div",{className:"flex items-end",children:[(0,d.jsx)(o.Z,{name:"code",label:"Promo Code",onChange:y.handleChange,value:y.values.code,labelClasses:"text-sm mb-2",wraperClasses:"grow mr-2"}),(0,d.jsx)("button",{type:"submit",className:"font-helveticaNeue500 text-center h-12 py-4 transition-all w-24 bg-grey uppercase text-xs hover:opacity-80 tracking-widest",children:"Submit"})]}),g&&x.coupon&&x.coupon.data.code||j?(0,d.jsx)("span",{className:"input-response mt-2 text-sm block text-pink",children:g&&x.coupon?"Promocode ".concat(x.coupon.data.code," has been applied"):"Invalid promocode"}):""]}),(0,d.jsx)("h3",{className:"font-helveticaNeue400 text-lg mb-6 md:mb-8 mt-8",children:"Your shopping bag"}),(0,d.jsx)("div",{className:"mt-8",children:(0,d.jsx)("hr",{className:"border-t-grey my-8"})}),f&&f.length>0?f.map((function(e,t){var r;return(0,d.jsxs)("span",{children:[(0,d.jsxs)("div",{className:"flex flex-wrap mb-4",children:[(0,d.jsx)("div",{className:"w-full",children:(0,d.jsxs)("span",{className:"font-helveticaNeue400 text-sm",children:["Package ",t+1," of"," ",f.length]})}),(0,d.jsx)("div",{className:"w-full",children:(0,d.jsxs)("span",{className:"font-helveticaNeue500 text-sm",children:["Shipping from:"," ",(0,d.jsx)("span",{className:"text-sm capitalize",children:null===(r=e.products[0].seller_info)||void 0===r?void 0:r.city})]})})]}),e.products.map((function(e,t){return(0,d.jsx)("div",{className:"bg-white mb-4",children:(0,d.jsxs)("div",{className:"product-popup flex w-full text-left py-4 px-2",children:[(0,d.jsx)("div",{className:"thumb w-100 relative",children:(0,d.jsx)(i.default,{loader:u.k,objectFit:"contain",className:"w-full",src:e.medium_image_path,alt:"",layout:"fill"})}),(0,d.jsx)("div",{className:"info flex-1 text-sm pl-4",children:(0,d.jsx)("div",{className:"flex flex-wrap justify-between px-2",children:(0,d.jsxs)("div",{className:"w-full md:w-auto",children:[(0,d.jsx)("h3",{className:"font-helveticaNeue500 uppercase mb-1",children:e.name}),(0,d.jsx)("p",{className:"mb-2",children:(0,d.jsx)(l.Z,{price:e.checkout_product.data.selling_price})}),(0,d.jsxs)("p",{className:"mb-2",children:["SIZE: ",e.size_name]})]})})})]})},t)}))]},t)})):""]})]}):""})})}},77256:function(e,t,r){"use strict";var n=r(87517),i=r(88615),s=r(67294),c=r(85893);t.Z=function(e){var t=e.price,r=e.onChangePrice,o=(0,s.useState)("".concat(t)),a=o[0],l=o[1],u=(0,n.u)((function(e){return e.browserCurrency}));return(0,s.useEffect)((function(){var e,n,s="";if(Array.isArray(t)?n=t:(t||(s="FREE"),n=[t]),0===(null===(e=u.currencies)||void 0===e?void 0:e.length)&&(s=String(n.reduce((function(e,t){return e+t}),0))),u.currency&&u.currencies&&u.currencies.length>0){var c=u.currencies.find((function(e){return e.code===u.currency}));if(c){var o=n.reduce((function(e,t){return e+(0,i.NM)(t*(c.rate||1),c)}),0);s=function(e,t){return"\xa3"===e?"".concat(e).concat(t):"".concat(t," ").concat(e)}(null===c||void 0===c?void 0:c.symbol,(0,i.NM)(o,c))}}r&&r(s),l(s)}),[u.currency,u.currencies,t]),(0,c.jsx)("span",{className:"text-[14px] uppercase text-dark font-helveticaNeue400",children:a})}},88615:function(e,t,r){"use strict";r.d(t,{pD:function(){return c},NM:function(){return o},RL:function(){return a},SX:function(){return l},dI:function(){return u},Mi:function(){return d},FA:function(){return p},JT:function(){return m},Pg:function(){return f},SK:function(){return h},D0:function(){return x}});r(87757);var n=r(9723),i=(r(46837),r(73303)),s=r.n(i),c=function(e,t){var r=t.find((function(t){return t.alpha2Code===e}));return null===r||void 0===r?void 0:r.name},o=function(e,t){return!t||"DKK"!==t.code&&"SEK"!==t.code&&"NOK"!==t.code?Math.ceil(2*e)/2:Math.round(e)},a=function(e){switch(e){case n.i_.SOLD:return"sold";case n.i_.CANCELLED:return"cancelled";case n.i_.RETURNED:return"returned";default:return"sold confirmed"}},l=function(e){return e.filter((function(e){return["SOLD_CONFIRMED","CANCELLED","RETURNED","PAYMENT_SENT"].includes(e.status)})).length===e.length?n.DF.COMPLETED:n.DF.PROCESSING},u=function(e){return e.tracking_number?e.status===n.Tb.TRACKED?n.Tb.TRACKED:e.status===n.Tb.DELIVERED?n.Tb.DELIVERED:n.Tb.SHIPPED:n.Tb.PENDING},d=function(e,t,r){var n,i,s=null===(n=r.currencies)||void 0===n?void 0:n.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)})),c=null===(i=r.currencies)||void 0===i?void 0:i.find((function(e){return"EUR"===e.code}));return s&&c?s.code===c.code?Number(e.toFixed(2)):Number((e/(s.rate||1)).toFixed(2)):Number(e.toFixed(2))},p=function(e,t,r){var n,i,s=null===(n=r.currencies)||void 0===n?void 0:n.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)})),c=null===(i=r.currencies)||void 0===i?void 0:i.find((function(e){return"EUR"===e.code}));return s&&c?s.code===c.code?Number(e.toFixed(2)):Number((e*(s.rate||1)).toFixed(2)):Number(e.toFixed(2))},m=function(e,t,r,n){var i,s,c=null===(i=n.currencies)||void 0===i?void 0:i.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)})),o=null===(s=n.currencies)||void 0===s?void 0:s.find((function(e){return e.code===r||e.symbol===r||e.id===Number(r)}));return c&&o?c.code===o.code?Number(e.toFixed(2)):Number((e*((o.rate||1)/(c.rate||1))).toFixed(2)):Number(e.toFixed(2))},f=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(t);return n.join("default"===r?"":r||" / ")},h=function(e){return s()(e,(function(e){return e.tax_fee}))},x=function(e){if(!e)return{isValid:!1,message:""};if(e.size<1024)return{isValid:!1,message:"Minimum supported file size is 1kb"};if(e.size>1e7)return{isValid:!1,message:"Maximum supported file size is 10mb"};var t=e.type.split("/"),r=["jpeg","jpg","png"];return t[1]&&r.includes(t[1])?{isValid:!0,message:""}:{isValid:!1,message:"Supported file types are ".concat(r.join(", "))}}}}]);