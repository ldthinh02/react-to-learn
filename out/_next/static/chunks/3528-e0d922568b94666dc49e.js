"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3528],{77256:function(e,n,t){var r=t(87517),i=t(88615),c=t(67294),u=t(85893);n.Z=function(e){var n=e.price,t=e.onChangePrice,o=(0,c.useState)("".concat(n)),s=o[0],a=o[1],d=(0,r.u)((function(e){return e.browserCurrency}));return(0,c.useEffect)((function(){var e,r,c="";if(Array.isArray(n)?r=n:(n||(c="FREE"),r=[n]),0===(null===(e=d.currencies)||void 0===e?void 0:e.length)&&(c=String(r.reduce((function(e,n){return e+n}),0))),d.currency&&d.currencies&&d.currencies.length>0){var u=d.currencies.find((function(e){return e.code===d.currency}));if(u){var o=r.reduce((function(e,n){return e+(0,i.NM)(n*(u.rate||1),u)}),0);c=function(e,n){return"\xa3"===e?"".concat(e).concat(n):"".concat(n," ").concat(e)}(null===u||void 0===u?void 0:u.symbol,(0,i.NM)(o,u))}}t&&t(c),a(c)}),[d.currency,d.currencies,n]),(0,u.jsx)("span",{className:"text-[14px] uppercase text-dark font-helveticaNeue400",children:s})}},3528:function(e,n,t){var r=t(97e3),i=t(25675),c=t(77256),u=t(59264),o=t(67294),s=t(11163),a=t(62653),d=t(5887),l=t(73534),f=t(27089),m=t(43753),p=t(85893);n.Z=function(e){var n=e.price,t=e.name,h=e.id,x=e.image,g=e.size,v=e.ganniWardrobe,N=e.classes,b=e.is_sold,E=e.fromCategoryPage,_=e.brand,S=e.condition,w=e.material,j=e.color,y=e.currency,D=(0,o.useState)(!1),T=D[0],C=D[1],M=(0,o.useState)(!1),F=M[0],L=M[1],k=(0,u.xb)().mutate,R=(0,u.oQ)().mutate,P=(0,o.useState)(!1),I=P[0],O=P[1],z=(0,o.useState)(!1),A=z[0],V=z[1],K=(0,o.useState)(""),W=K[0],J=K[1],Q=(0,s.useRouter)(),U=(0,d.J)().isLoggedIn,Z=(0,l.e)().data,H=(0,u.gX)(),X=H.data,q=H.isSuccess,B=H.refetch,G=(0,f.e)().mutate,Y=(0,f.E)().mutate;(0,o.useMemo)((function(){q&&X&&(void 0!==X.find((function(e){return e.product_id===h}))?C(!0):C(!1))}),[X]),(0,o.useEffect)((function(){v&&L(v)}),[]);var $=function(){O(!I)},ee=function(){E&&(0,m.Vl)("select_content",{select_content:{product_id:h,product_name:t,product_price:n,product_size:g,product_brand:_,product_condition:S,product_material:w,product_color:j,product_currency:y,product_quantity:1}}),Q.push("/product/".concat(h))};return(0,p.jsxs)("div",{className:"mb-8 px-2 xl:px-4 ".concat(N||"w-1/2 xl:w-1/4"),onMouseEnter:function(){var e=document.getElementById("".concat(h.toString()));e&&g&&(e.innerText="Size: ".concat(g))},onMouseLeave:function(){var e=document.getElementById("".concat(h.toString()));e&&(e.innerText="".concat(W))},children:[(0,p.jsxs)("div",{className:"mb-4 relative",children:[(0,p.jsx)("div",{className:"flex items-center justify-center",children:(0,p.jsx)("div",{className:"w-full h-full cursor-pointer",children:(0,p.jsxs)("div",{className:"max-w-[240px] max-h-[288px] flex items-center justify-center relative",onClick:ee,children:[b&&(0,p.jsx)("div",{className:"absolute z-10",children:(0,p.jsx)(i.default,{src:"/assets/images/sold.svg",alt:"Sold icon",width:214,height:54,objectFit:"cover"})}),(0,p.jsx)(i.default,{className:"w-[240px] h-[288px]",src:x,alt:"",width:240,height:288,loader:r.k,objectFit:"cover"}),v&&(0,p.jsx)("div",{className:"w-full h-full fixed absolute top-[0] right-[0] bottom-[0] left-[0] z-50",children:(0,p.jsx)("div",{className:"w-[33px] h-[30px] lg:w-[41px] lg:h-[38px] absolute top-[8px] right-[2px] lg:right-[8px] xl:right-[2px]",children:(0,p.jsx)(i.default,{className:"w-full h-full",src:"/assets/icons/we-love.svg",alt:"We love icon",width:41,height:38})})})]})})}),(0,p.jsxs)("div",{className:"flex items-center mt-[12px]",children:[(0,p.jsx)("span",{className:"cursor-pointer self-start min-w-[36px] ".concat(T||F&&Z&&"ganni@gannirepeat.com"===Z.email?"animate-heartScale":""," transition-all"),onClick:function(){A||(V(!0),U?Z&&"ganni@gannirepeat.com"===Z.email?F?Y({product_id:h.toString()},{onSuccess:function(){L(!1),V(!1)},onError:function(){return V(!1)}}):G({product_id:h.toString()},{onSuccess:function(){L(!0),V(!1)},onError:function(){return V(!1)}}):T?setTimeout((function(){R({product_id:h},{onSuccess:function(){B(),V(!1)},onError:function(){return V(!1)}})}),2e3):k({product_id:h},{onSuccess:function(){B(),V(!1)},onError:function(){return V(!1)}}):$())},children:(0,p.jsx)(i.default,{src:T||F&&Z&&"ganni@gannirepeat.com"===Z.email?"/assets/images/Heart-pink.svg":"/assets/images/Heart.svg",alt:"wishlist heart image",width:39,height:34})}),(0,p.jsxs)("div",{className:"cursor-pointer transition-all pt-0 pl-[12px]",onClick:ee,children:[(0,p.jsx)("p",{className:"text-xs md:text-sm uppercase leading-[19.6px] tracking-wide text-dark font-helveticaNeue500 ease-in",children:t}),(0,p.jsx)("p",{id:h.toString(),className:"text-[14px] uppercase text-dark font-helveticaNeue400",children:(0,p.jsx)(c.Z,{price:n,onChangePrice:function(e){return J(e)}})})]})]})]}),(0,p.jsx)(a.Z,{active:I,toggleLoginModal:$})]})}},27089:function(e,n,t){t.d(n,{e:function(){return c},E:function(){return u}});var r=t(46837),i=t(88767),c=function(){return(0,i.useMutation)((function(e){return(0,r.h)("/wardrobes/".concat(e.product_id,"/official"),{method:"POST"})}))},u=function(){return(0,i.useMutation)((function(e){return(0,r.h)("/wardrobes/".concat(e.product_id,"/official"),{method:"DELETE"})}))}},59264:function(e,n,t){t.d(n,{gX:function(){return u},qR:function(){return o},oQ:function(){return s},xb:function(){return a}});var r=t(46837),i=t(88767),c=t(5887),u=function(){var e=(0,c.J)().isLoggedIn;return(0,i.useQuery)("myWishlist",(function(){return(0,r.h)("wishlist/me?includes=user,image_and_url")}),{refetchOnWindowFocus:!1,retry:0,enabled:!!e})},o=function(e){return(0,i.useQuery)("countLikes",(function(){return(0,r.h)("wishlist/count/".concat(e))}),{refetchOnWindowFocus:!1,retry:0,enabled:!!e})},s=function(){return(0,i.useMutation)((function(e){return(0,r.h)("wishlist/".concat(e.product_id),{method:"DELETE"})}))},a=function(){return(0,i.useMutation)((function(e){return(0,r.h)("wishlist/me",{method:"POST",body:JSON.stringify(e)})}))}},88615:function(e,n,t){t.d(n,{pD:function(){return u},NM:function(){return o},RL:function(){return s},SX:function(){return a},dI:function(){return d},Mi:function(){return l},FA:function(){return f},JT:function(){return m},Pg:function(){return p},SK:function(){return h},D0:function(){return x}});t(87757);var r=t(9723),i=(t(46837),t(73303)),c=t.n(i),u=function(e,n){var t=n.find((function(n){return n.alpha2Code===e}));return null===t||void 0===t?void 0:t.name},o=function(e,n){return!n||"DKK"!==n.code&&"SEK"!==n.code&&"NOK"!==n.code?Math.ceil(2*e)/2:Math.round(e)},s=function(e){switch(e){case r.i_.SOLD:return"sold";case r.i_.CANCELLED:return"cancelled";case r.i_.RETURNED:return"returned";default:return"sold confirmed"}},a=function(e){return e.filter((function(e){return["SOLD_CONFIRMED","CANCELLED","RETURNED","PAYMENT_SENT"].includes(e.status)})).length===e.length?r.DF.COMPLETED:r.DF.PROCESSING},d=function(e){return e.tracking_number?e.status===r.Tb.TRACKED?r.Tb.TRACKED:e.status===r.Tb.DELIVERED?r.Tb.DELIVERED:r.Tb.SHIPPED:r.Tb.PENDING},l=function(e,n,t){var r,i,c=null===(r=t.currencies)||void 0===r?void 0:r.find((function(e){return e.code===n||e.symbol===n||e.id===Number(n)})),u=null===(i=t.currencies)||void 0===i?void 0:i.find((function(e){return"EUR"===e.code}));return c&&u?c.code===u.code?Number(e.toFixed(2)):Number((e/(c.rate||1)).toFixed(2)):Number(e.toFixed(2))},f=function(e,n,t){var r,i,c=null===(r=t.currencies)||void 0===r?void 0:r.find((function(e){return e.code===n||e.symbol===n||e.id===Number(n)})),u=null===(i=t.currencies)||void 0===i?void 0:i.find((function(e){return"EUR"===e.code}));return c&&u?c.code===u.code?Number(e.toFixed(2)):Number((e*(c.rate||1)).toFixed(2)):Number(e.toFixed(2))},m=function(e,n,t,r){var i,c,u=null===(i=r.currencies)||void 0===i?void 0:i.find((function(e){return e.code===n||e.symbol===n||e.id===Number(n)})),o=null===(c=r.currencies)||void 0===c?void 0:c.find((function(e){return e.code===t||e.symbol===t||e.id===Number(t)}));return u&&o?u.code===o.code?Number(e.toFixed(2)):Number((e*((o.rate||1)/(u.rate||1))).toFixed(2)):Number(e.toFixed(2))},p=function(e,n,t){for(var r=[],i=0;i<e;i++)r.push(n);return r.join("default"===t?"":t||" / ")},h=function(e){return c()(e,(function(e){return e.tax_fee}))},x=function(e){if(!e)return{isValid:!1,message:""};if(e.size<1024)return{isValid:!1,message:"Minimum supported file size is 1kb"};if(e.size>1e7)return{isValid:!1,message:"Maximum supported file size is 10mb"};var n=e.type.split("/"),t=["jpeg","jpg","png"];return n[1]&&t.includes(n[1])?{isValid:!0,message:""}:{isValid:!1,message:"Supported file types are ".concat(t.join(", "))}}}}]);